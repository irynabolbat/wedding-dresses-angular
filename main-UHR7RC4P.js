var hC=Object.defineProperty,fC=Object.defineProperties;var pC=Object.getOwnPropertyDescriptors;var pv=Object.getOwnPropertySymbols;var gC=Object.prototype.hasOwnProperty,mC=Object.prototype.propertyIsEnumerable;var gv=(t,e,n)=>e in t?hC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})gC.call(e,n)&&gv(t,n,e[n]);if(pv)for(var n of pv(e))mC.call(e,n)&&gv(t,n,e[n]);return t},Te=(t,e)=>fC(t,pC(e));var S=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});function yC(t,e){return Object.is(t,e)}var Ue=null,qa=!1,za=1,ei=Symbol("SIGNAL");function fe(t){let e=Ue;return Ue=t,e}var pd={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mv(t){if(qa)throw new Error("");if(Ue===null)return;Ue.consumerOnSignalRead(t);let e=Ue.nextProducerIndex++;if(Xr(Ue),e<Ue.producerNode.length&&Ue.producerNode[e]!==t&&js(Ue)){let n=Ue.producerNode[e];Ga(n,Ue.producerIndexOfThis[e])}Ue.producerNode[e]!==t&&(Ue.producerNode[e]=t,Ue.producerIndexOfThis[e]=js(Ue)?Ev(t,Ue,e):0),Ue.producerLastReadVersion[e]=t.version}function vC(){za++}function _C(t){if(!(js(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===za)){if(!t.producerMustRecompute(t)&&!gd(t)){t.dirty=!1,t.lastCleanEpoch=za;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=za}}function yv(t){if(t.liveConsumerNode===void 0)return;let e=qa;qa=!0;try{for(let n of t.liveConsumerNode)n.dirty||IC(n)}finally{qa=e}}function vv(){return Ue?.consumerAllowSignalWrites!==!1}function IC(t){t.dirty=!0,yv(t),t.consumerMarkedDirty?.(t)}function _v(t){return t&&(t.nextProducerIndex=0),fe(t)}function Iv(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(js(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ga(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gd(t){Xr(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(_C(n),r!==n.version))return!0}return!1}function wv(t){if(Xr(t),js(t))for(let e=0;e<t.producerNode.length;e++)Ga(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ev(t,e,n){if(Dv(t),Xr(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Ev(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ga(t,e){if(Dv(t),Xr(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ga(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Xr(i),i.producerIndexOfThis[r]=e}}function js(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Dv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function wC(){throw new Error}var Tv=wC;function bv(){Tv()}function Cv(t){Tv=t}var EC=null;function Sv(t){let e=Object.create(Rv);e.value=t;let n=()=>(mv(e),e.value);return n[ei]=e,n}function md(t,e){vv()||bv(),t.equal(t.value,e)||(t.value=e,DC(t))}function Av(t,e){vv()||bv(),md(t,e(t.value))}var Rv=Te(F({},pd),{equal:yC,value:void 0});function DC(t){t.version++,vC(),yv(t),EC?.()}function G(t){return typeof t=="function"}function ti(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wa=ti(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(s){e=s instanceof Wa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{xv(s)}catch(o){e=e??[],o instanceof Wa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Wa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)xv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yr(n,e)}remove(e){let{_finalizers:n}=this;n&&yr(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var yd=xe.EMPTY;function Ka(t){return t instanceof xe||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function xv(t){G(t)?t():t.unsubscribe()}var Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ni={setTimeout(t,e,...n){let{delegate:r}=ni;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ni;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qa(t){ni.setTimeout(()=>{let{onUnhandledError:e}=Pt;if(e)e(t);else throw t})}function Bs(){}var Mv=vd("C",void 0,void 0);function Nv(t){return vd("E",void 0,t)}function Pv(t){return vd("N",t,void 0)}function vd(t,e,n){return{kind:t,value:e,error:n}}var vr=null;function ri(t){if(Pt.useDeprecatedSynchronousErrorHandling){let e=!vr;if(e&&(vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=vr;if(vr=null,n)throw r}}else t()}function Ov(t){Pt.useDeprecatedSynchronousErrorHandling&&vr&&(vr.errorThrown=!0,vr.error=t)}var _r=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ka(e)&&e.add(this)):this.destination=CC}static create(e,n,r){return new ii(e,n,r)}next(e){this.isStopped?Id(Pv(e),this):this._next(e)}error(e){this.isStopped?Id(Nv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Id(Mv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TC=Function.prototype.bind;function _d(t,e){return TC.call(t,e)}var wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ya(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ya(r)}else Ya(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ya(n)}}},ii=class extends _r{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Pt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_d(e.next,s),error:e.error&&_d(e.error,s),complete:e.complete&&_d(e.complete,s)}):i=e}this.destination=new wd(i)}};function Ya(t){Pt.useDeprecatedSynchronousErrorHandling?Ov(t):Qa(t)}function bC(t){throw t}function Id(t,e){let{onStoppedNotification:n}=Pt;n&&ni.setTimeout(()=>n(t,e))}var CC={closed:!0,next:Bs,error:bC,complete:Bs};var si=typeof Symbol=="function"&&Symbol.observable||"@@observable";function lt(t){return t}function Ja(...t){return Ed(t)}function Ed(t){return t.length===0?lt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=AC(n)?n:new ii(n,r,i);return ri(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=kv(r),new r((i,s)=>{let o=new ii({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[si](){return this}pipe(...n){return Ed(n)(this)}toPromise(n){return n=kv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function kv(t){var e;return(e=t??Pt.Promise)!==null&&e!==void 0?e:Promise}function SC(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function AC(t){return t&&t instanceof _r||SC(t)&&Ka(t)}function Dd(t){return G(t?.lift)}function se(t){return e=>{if(Dd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new Td(t,e,n,r,i)}var Td=class extends _r{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oi(){return se((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ai=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return oi()(this)}};var Fv=ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ze=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Za(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Fv}next(n){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ri(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?yd:(this.currentObservers=null,s.push(n),new xe(()=>{this.currentObservers=null,yr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Za(e,n),t})(),Za=class extends Ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:yd}};var Ge=class extends Ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bd={now(){return(bd.delegate||Date).now()},delegate:void 0};var Xa=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var $s={setInterval(t,e,...n){let{delegate:r}=$s;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=$s;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ci=class extends Xa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return $s.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&$s.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,yr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ui=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ui.now=bd.now;var li=class extends ui{constructor(e,n=ui.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Cd=new li(ci);var ec=class extends ci{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var tc=class extends li{};var Sd=new tc(ec);var dt=new ie(t=>t.complete());function Lv(t){return t&&G(t.schedule)}function Vv(t){return t[t.length-1]}function Uv(t){return G(Vv(t))?t.pop():void 0}function Fn(t){return Lv(Vv(t))?t.pop():void 0}function Ad(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Bv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(g){o(g)}}function u(f){try{l(r.throw(f))}catch(g){o(g)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function jv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ir(t){return this instanceof Ir?(this.v=t,this):new Ir(t)}function $v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){r[y]&&(i[y]=function(T){return new Promise(function(A,x){s.push([y,T,A,x])>1||c(y,T)})})}function c(y,T){try{u(r[y](T))}catch(A){g(s[0][3],A)}}function u(y){y.value instanceof Ir?Promise.resolve(y.value.v).then(l,f):g(s[0][2],y)}function l(y){c("next",y)}function f(y){c("throw",y)}function g(y,T){y(T),s.shift(),s.length&&c(s[0][0],s[0][1])}}function Hv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jv=="function"?jv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var nc=t=>t&&typeof t.length=="number"&&typeof t!="function";function rc(t){return G(t?.then)}function ic(t){return G(t[si])}function sc(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ac=RC();function cc(t){return G(t?.[ac])}function uc(t){return $v(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ir(n.read());if(i)return yield Ir(void 0);yield yield Ir(r)}}finally{n.releaseLock()}})}function lc(t){return G(t?.getReader)}function je(t){if(t instanceof ie)return t;if(t!=null){if(ic(t))return xC(t);if(nc(t))return MC(t);if(rc(t))return NC(t);if(sc(t))return qv(t);if(cc(t))return PC(t);if(lc(t))return OC(t)}throw oc(t)}function xC(t){return new ie(e=>{let n=t[si]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MC(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function NC(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qa)})}function PC(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function qv(t){return new ie(e=>{kC(t,e).catch(n=>e.error(n))})}function OC(t){return qv(uc(t))}function kC(t,e){var n,r,i,s;return Bv(this,void 0,void 0,function*(){try{for(n=Hv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function ot(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ln(t,e=0){return se((n,r)=>{n.subscribe(oe(r,i=>ot(r,t,()=>r.next(i),e),()=>ot(r,t,()=>r.complete(),e),i=>ot(r,t,()=>r.error(i),e)))})}function Vn(t,e=0){return se((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function zv(t,e){return je(t).pipe(Vn(e),Ln(e))}function Gv(t,e){return je(t).pipe(Vn(e),Ln(e))}function Wv(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Kv(t,e){return new ie(n=>{let r;return ot(n,e,()=>{r=t[ac](),ot(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{ot(n,e,()=>{let r=t[Symbol.asyncIterator]();ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Qv(t,e){return dc(uc(t),e)}function Yv(t,e){if(t!=null){if(ic(t))return zv(t,e);if(nc(t))return Wv(t,e);if(rc(t))return Gv(t,e);if(sc(t))return dc(t,e);if(cc(t))return Kv(t,e);if(lc(t))return Qv(t,e)}throw oc(t)}function Ae(t,e){return e?Yv(t,e):je(t)}function $(...t){let e=Fn(t);return Ae(t,e)}function di(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Rd(t){return!!t&&(t instanceof ie||G(t.lift)&&G(t.subscribe))}var gn=ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return se((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:FC}=Array;function LC(t,e){return FC(e)?t(...e):t(e)}function Jv(t){return ee(e=>LC(t,e))}var{isArray:VC}=Array,{getPrototypeOf:UC,prototype:jC,keys:BC}=Object;function Zv(t){if(t.length===1){let e=t[0];if(VC(e))return{args:e,keys:null};if($C(e)){let n=BC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $C(t){return t&&typeof t=="object"&&UC(t)===jC}function Xv(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Hs(...t){let e=Fn(t),n=Uv(t),{args:r,keys:i}=Zv(t);if(r.length===0)return Ae([],e);let s=new ie(HC(r,e,i?o=>Xv(i,o):lt));return n?s.pipe(Jv(n)):s}function HC(t,e,n=lt){return r=>{e_(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)e_(e,()=>{let l=Ae(t[u],e),f=!1;l.subscribe(oe(r,g=>{s[u]=g,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function e_(t,e,n){t?ot(n,t,e):e()}function t_(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,g=!1,y=()=>{g&&!u.length&&!l&&e.complete()},T=x=>l<r?A(x):u.push(x),A=x=>{s&&e.next(x),l++;let R=!1;je(n(x,f++)).subscribe(oe(e,L=>{i?.(L),s?T(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();o?ot(e,o,()=>A(L)):A(L)}y()}catch(L){e.error(L)}}))};return t.subscribe(oe(e,T,()=>{g=!0,y()})),()=>{c?.()}}function Ne(t,e,n=1/0){return G(e)?Ne((r,i)=>ee((s,o)=>e(r,s,i,o))(je(t(r,i))),n):(typeof e=="number"&&(n=e),se((r,i)=>t_(r,i,t,n)))}function hi(t=1/0){return Ne(lt,t)}function n_(){return hi(1)}function fi(...t){return n_()(Ae(t,Fn(t)))}function hc(t){return new ie(e=>{je(t()).subscribe(e)})}function ht(t,e){return se((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Un(t){return se((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=je(t(o,Un(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function r_(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(oe(o,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function wr(t,e){return G(e)?Ne(t,e,1):Ne(t,1)}function jn(t){return se((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function mn(t){return t<=0?()=>dt:se((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xd(t){return ee(()=>t)}function fc(t=qC){return se((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qC(){return new gn}function qs(t){return se((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,s)=>t(i,s,r)):lt,mn(1),n?jn(e):fc(()=>new gn))}function pi(t){return t<=0?()=>dt:se((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Md(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ht((i,s)=>t(i,s,r)):lt,pi(1),n?jn(e):fc(()=>new gn))}function pc(t,e){return se(r_(t,e,arguments.length>=2,!0))}function gc(...t){let e=Fn(t);return se((n,r)=>{(e?fi(t,n,e):fi(t,n)).subscribe(r)})}function yt(t,e){return se((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(oe(r,u=>{i?.unsubscribe();let l=0,f=s++;je(t(u,f)).subscribe(i=oe(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Nd(t){return se((e,n)=>{je(t).subscribe(oe(n,()=>n.complete(),Bs)),!n.closed&&e.subscribe(n)})}function Le(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?se((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(oe(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):lt}var $_="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(Mh(e,n)),this.code=e}};function Mh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function io(t){return{toString:t}.toString()}var mc="__parameters__";function zC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function H_(t,e,n){return io(()=>{let r=zC(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let g=u.hasOwnProperty(mc)?u[mc]:Object.defineProperty(u,mc,{value:[]})[mc];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Er=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function it(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function i_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var GC=Ie({__forward_ref__:Ie});function q_(t){return t.__forward_ref__=q_,t.toString=function(){return it(this())},t}function _t(t){return z_(t)?t():t}function z_(t){return typeof t=="function"&&t.hasOwnProperty(GC)&&t.__forward_ref__===q_}function V(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function so(t){return{providers:t.providers||[],imports:t.imports||[]}}function qc(t){return s_(t,W_)||s_(t,K_)}function G_(t){return qc(t)!==null}function s_(t,e){return t.hasOwnProperty(e)?t[e]:null}function WC(t){let e=t&&(t[W_]||t[K_]);return e||null}function o_(t){return t&&(t.hasOwnProperty(a_)||t.hasOwnProperty(KC))?t[a_]:null}var W_=Ie({\u0275prov:Ie}),a_=Ie({\u0275inj:Ie}),K_=Ie({ngInjectableDef:Ie}),KC=Ie({ngInjectorDef:Ie}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Q_(t){return t&&!!t.\u0275providers}var QC=Ie({\u0275cmp:Ie}),YC=Ie({\u0275dir:Ie}),JC=Ie({\u0275pipe:Ie}),ZC=Ie({\u0275mod:Ie}),Tc=Ie({\u0275fac:Ie}),zs=Ie({__NG_ELEMENT_ID__:Ie}),c_=Ie({__NG_ENV_ID__:Ie});function zc(t){return typeof t=="string"?t:t==null?"":String(t)}function XC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():zc(t)}function e0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function Nh(t,e){throw new j(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),Gd;function Y_(){return Gd}function vt(t){let e=Gd;return Gd=t,e}function J_(t,e,n){let r=qc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(e!==void 0)return e;Nh(t,"Injector")}var t0={},Gs=t0,Wd="__NG_DI_FLAG__",bc="ngTempTokenPath",n0="ngTokenPath",r0=/\n/gm,i0="\u0275",u_="__source",_i;function s0(){return _i}function Bn(t){let e=_i;return _i=t,e}function o0(t,e=X.Default){if(_i===void 0)throw new j(-203,!1);return _i===null?J_(t,void 0,e):_i.get(t,e&X.Optional?null:void 0,e)}function z(t,e=X.Default){return(Y_()||o0)(_t(t),e)}function N(t,e=X.Default){return z(t,Gc(e))}function Gc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kd(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){let c=r[o],u=a0(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(z(i,s))}else e.push(z(r))}return e}function Z_(t,e){return t[Wd]=e,t.prototype[Wd]=e,t}function a0(t){return t[Wd]}function c0(t,e,n,r){let i=t[bc];throw e[u_]&&i.unshift(e[u_]),t.message=u0(`
`+t.message,i,n,r),t[n0]=i,t[bc]=null,t}function u0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==i0?t.slice(2):t;let i=it(e);if(Array.isArray(e))i=e.map(it).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):it(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(r0,`
  `)}`}var wt=Z_(H_("Optional"),8);var Ph=Z_(H_("SkipSelf"),4);function wi(t,e){let n=t.hasOwnProperty(Tc);return n?t[Tc]:null}function Oh(t,e){t.forEach(n=>Array.isArray(n)?Oh(n,e):e(n))}function X_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Cc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function l0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function d0(t,e,n){let r=oo(t,e);return r>=0?t[r|1]=n:(r=~r,l0(t,r,e,n)),r}function Pd(t,e){let n=oo(t,e);if(n>=0)return t[n|1]}function oo(t,e){return h0(t,e,1)}function h0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ws={},kt=[],Ei=new W(""),eI=new W("",-1),tI=new W(""),Sc=class{get(e,n=Gs){if(n===Gs){let r=new Error(`NullInjectorError: No provider for ${it(e)}!`);throw r.name="NullInjectorError",r}return n}},nI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nI||{}),Yt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Yt||{}),Vt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Vt||{});function f0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Qd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];p0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rI(t){return t===3||t===4||t===6}function p0(t){return t.charCodeAt(0)===64}function kh(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?l_(t,n,i,null,e[++r]):l_(t,n,i,null,null))}}return t}function l_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var iI="ng-template";function g0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&f0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Fh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Fh(t){return t.type===4&&t.value!==iI}function m0(t,e,n){let r=t.type===4&&!n?iI:t.value;return e===r}function y0(t,e,n){let r=4,i=t.attrs,s=i!==null?I0(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Ot(r)&&!Ot(u))return!1;if(o&&Ot(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!m0(t,u,n)||u===""&&e.length===1){if(Ot(r))return!1;o=!0}}else if(r&8){if(i===null||!g0(t,i,u,n)){if(Ot(r))return!1;o=!0}}else{let l=e[++c],f=v0(u,i,Fh(t),n);if(f===-1){if(Ot(r))return!1;o=!0;continue}if(l!==""){let g;if(f>s?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Ot(r))return!1;o=!0}}}}return Ot(r)||o}function Ot(t){return(t&1)===0}function v0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return w0(e,t)}function _0(t,e,n=!1){for(let r=0;r<e.length;r++)if(y0(t,e[r],n))return!0;return!1}function I0(t){for(let e=0;e<t.length;e++){let n=t[e];if(rI(n))return e}return t.length}function w0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function d_(t,e){return t?":not("+e.trim()+")":e}function E0(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ot(o)&&(e+=d_(s,i),i=""),r=o,s=s||!Ot(r);n++}return i!==""&&(e+=d_(s,i)),e}function D0(t){return t.map(E0).join(",")}function T0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ot(i))break;i=s}r++}return{attrs:e,classes:n}}function Et(t){return io(()=>{let e=uI(t),n=Te(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Yt.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});lI(n);let r=t.dependencies;return n.directiveDefs=f_(r,!1),n.pipeDefs=f_(r,!0),n.id=S0(n),n})}function b0(t){return Hn(t)||sI(t)}function C0(t){return t!==null}function ao(t){return io(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function h_(t,e){if(t==null)return Ws;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Vt.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Vt.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Si(t){return io(()=>{let e=uI(t);return lI(e),e})}function Hn(t){return t[QC]||null}function sI(t){return t[YC]||null}function oI(t){return t[JC]||null}function aI(t){let e=Hn(t)||sI(t)||oI(t);return e!==null?e.standalone:!1}function cI(t,e){let n=t[ZC]||null;if(!n&&e===!0)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return n}function uI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ws,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h_(t.inputs,e),outputs:h_(t.outputs),debugInfo:null}}function lI(t){t.features?.forEach(e=>e(t))}function f_(t,e){if(!t)return null;let n=e?oI:b0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(C0)}function S0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Wn(t){return{\u0275providers:t}}function A0(...t){return{\u0275providers:dI(!0,t),\u0275fromNgModule:!0}}function dI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Oh(e,o=>{let c=o;Yd(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&hI(i,s),n}function hI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lh(i,s=>{e(s,r)})}}function Yd(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,s=o_(t),o=!s&&Hn(t);if(!s&&!o){let u=t.ngModule;if(s=o_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Yd(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Oh(s.imports,f=>{Yd(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&hI(l,e)}if(!c){let l=wi(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:tI,useValue:i,multi:!0},i),e({provide:Ei,useValue:()=>z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;Lh(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Lh(t,e){for(let n of t)Q_(n)&&(n=n.\u0275providers),Array.isArray(n)?Lh(n,e):e(n)}var R0=Ie({provide:String,useValue:Ie});function fI(t){return t!==null&&typeof t=="object"&&R0 in t}function x0(t){return!!(t&&t.useExisting)}function M0(t){return!!(t&&t.useFactory)}function Jd(t){return typeof t=="function"}var Wc=new W(""),_c={},N0={},Od;function Vh(){return Od===void 0&&(Od=new Sc),Od}var at=class{},Ks=class extends at{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xd(e,o=>this.processProvider(o)),this.records.set(eI,gi(void 0,this)),i.has("environment")&&this.records.set(at,gi(void 0,this));let s=this.records.get(Wc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(tI,kt,X.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Bn(this),r=vt(void 0),i;try{return e()}finally{Bn(n),vt(r)}}get(e,n=Gs,r=X.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(c_))return e[c_](this);r=Gc(r);let i,s=Bn(this),o=vt(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=V0(e)&&qc(e);l&&this.injectableDefInScope(l)?u=gi(Zd(e),_c):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&X.Self?Vh():this.parent;return n=r&X.Optional&&n===Gs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[bc]=c[bc]||[]).unshift(it(e)),s)throw c;return c0(c,e,"R3InjectorError",this.source)}else throw c}finally{vt(o),Bn(s)}}resolveInjectorInitializers(){let e=fe(null),n=Bn(this),r=vt(void 0),i;try{let s=this.get(Ei,kt,X.Self);for(let o of s)o()}finally{Bn(n),vt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(it(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=_t(e);let n=Jd(e)?e:_t(e&&e.provide),r=O0(e);if(!Jd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=gi(void 0,_c,!0),i.factory=()=>Kd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===_c&&(n.value=N0,n.value=n.factory()),typeof n.value=="object"&&n.value&&L0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zd(t){let e=qc(t),n=e!==null?e.factory:wi(t);if(n!==null)return n;if(t instanceof W)throw new j(204,!1);if(t instanceof Function)return P0(t);throw new j(204,!1)}function P0(t){if(t.length>0)throw new j(204,!1);let n=WC(t);return n!==null?()=>n.factory(t):()=>new t}function O0(t){if(fI(t))return gi(void 0,t.useValue);{let e=k0(t);return gi(e,_c)}}function k0(t,e,n){let r;if(Jd(t)){let i=_t(t);return wi(i)||Zd(i)}else if(fI(t))r=()=>_t(t.useValue);else if(M0(t))r=()=>t.useFactory(...Kd(t.deps||[]));else if(x0(t))r=()=>z(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(F0(t))r=()=>new i(...Kd(t.deps));else return wi(i)||Zd(i)}return r}function gi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function F0(t){return!!t.deps}function L0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function V0(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function Xd(t,e){for(let n of t)Array.isArray(n)?Xd(n,e):n&&Q_(n)?Xd(n.\u0275providers,e):e(n)}function vn(t,e){t instanceof Ks&&t.assertNotDestroyed();let n,r=Bn(t),i=vt(void 0);try{return e()}finally{Bn(r),vt(i)}}function pI(){return Y_()!==void 0||s0()!=null}function U0(t){if(!pI())throw new j(-203,!1)}function j0(t){return typeof t=="function"}var _n=0,ae=1,H=2,Xe=3,Lt=4,Bt=5,Ac=6,Qs=7,Ut=8,Di=9,jt=10,Be=11,Ys=12,p_=13,Ai=14,Jt=15,Kc=16,mi=17,Ti=18,Qc=19,gI=20,$n=21,kd=22,br=23,qn=25,mI=1;var Cr=7,Rc=8,xc=9,It=10,Uh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Uh||{});function Dr(t){return Array.isArray(t)&&typeof t[mI]=="object"}function In(t){return Array.isArray(t)&&t[mI]===!0}function yI(t){return(t.flags&4)!==0}function Yc(t){return t.componentOffset>-1}function jh(t){return(t.flags&1)===1}function co(t){return!!t.template}function B0(t){return(t[H]&512)!==0}var eh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function vI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function uo(){return _I}function _I(t){return t.type.prototype.ngOnChanges&&(t.setInput=H0),$0}uo.ngInherit=!0;function $0(){let t=wI(this),e=t?.current;if(e){let n=t.previous;if(n===Ws)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function H0(t,e,n,r,i){let s=this.declaredInputs[r],o=wI(t)||q0(t,{previous:Ws,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new eh(l&&l.currentValue,n,u===Ws),vI(t,e,i,n)}var II="__ngSimpleChanges__";function wI(t){return t[II]||null}function q0(t,e){return t[II]=e}var g_=null;var Kt=function(t,e,n){g_?.(t,e,n)},z0="svg",G0="math",W0=!1;function K0(){return W0}function Zt(t){for(;Array.isArray(t);)t=t[_n];return t}function EI(t,e){return Zt(e[t])}function Dt(t,e){return Zt(e[t.index])}function DI(t,e){return t.data[e]}function Kn(t,e){let n=e[t];return Dr(n)?n:n[_n]}function Bh(t){return(t[H]&128)===128}function Q0(t){return In(t[Xe])}function Mc(t,e){return e==null?null:t[e]}function TI(t){t[mi]=0}function Y0(t){t[H]&1024||(t[H]|=1024,Bh(t)&&Js(t))}function J0(t,e){for(;t>0;)e=e[Ai],t--;return e}function $h(t){return!!(t[H]&9216||t[br]?.dirty)}function th(t){t[jt].changeDetectionScheduler?.notify(1),$h(t)?Js(t):t[H]&64&&(K0()?(t[H]|=1024,Js(t)):t[jt].changeDetectionScheduler?.notify())}function Js(t){t[jt].changeDetectionScheduler?.notify();let e=Zs(t);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!Bh(e)));)e=Zs(e)}function bI(t,e){if((t[H]&256)===256)throw new j(911,!1);t[$n]===null&&(t[$n]=[]),t[$n].push(e)}function Z0(t,e){if(t[$n]===null)return;let n=t[$n].indexOf(e);n!==-1&&t[$n].splice(n,1)}function Zs(t){let e=t[Xe];return In(e)?e[Xe]:e}var te={lFrame:NI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function X0(){return te.lFrame.elementDepthCount}function eS(){te.lFrame.elementDepthCount++}function tS(){te.lFrame.elementDepthCount--}function CI(){return te.bindingsEnabled}function nS(){return te.skipHydrationRootTNode!==null}function rS(t){return te.skipHydrationRootTNode===t}function iS(){te.skipHydrationRootTNode=null}function Ee(){return te.lFrame.lView}function en(){return te.lFrame.tView}function wn(t){return te.lFrame.contextLView=t,t[Ut]}function En(t){return te.lFrame.contextLView=null,t}function Tt(){let t=SI();for(;t!==null&&t.type===64;)t=t.parent;return t}function SI(){return te.lFrame.currentTNode}function sS(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lo(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function AI(){return te.lFrame.isParent}function oS(){te.lFrame.isParent=!1}function aS(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cS(t){return te.lFrame.bindingIndex=t}function Hh(){return te.lFrame.bindingIndex++}function uS(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function lS(){return te.lFrame.inI18n}function dS(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,nh(e)}function hS(){return te.lFrame.currentDirectiveIndex}function nh(t){te.lFrame.currentDirectiveIndex=t}function fS(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function RI(t){te.lFrame.currentQueryIndex=t}function pS(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[Bt]:null}function xI(t,e,n){if(n&X.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=pS(s),i===null||(s=s[Ai],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=MI();return r.currentTNode=e,r.lView=t,!0}function qh(t){let e=MI(),n=t[ae];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function MI(){let t=te.lFrame,e=t===null?null:t.child;return e===null?NI(t):e}function NI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function PI(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var OI=PI;function zh(){let t=PI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gS(t){return(te.lFrame.contextLView=J0(t,te.lFrame.contextLView))[Ut]}function Ri(){return te.lFrame.selectedIndex}function Sr(t){te.lFrame.selectedIndex=t}function Gh(){let t=te.lFrame;return DI(t.tView,t.selectedIndex)}function mS(){return te.lFrame.currentNamespace}var kI=!0;function Wh(){return kI}function Kh(t){kI=t}function yS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=_I(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Qh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ic(t,e,n){FI(t,e,3,n)}function wc(t,e,n,r){(t[H]&3)===n&&FI(t,e,n,r)}function Fd(t,e){let n=t[H];(n&3)===e&&(n&=16383,n+=1,t[H]=n)}function FI(t,e,n,r){let i=r!==void 0?t[mi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[mi]+=65536),(c<s||s==-1)&&(vS(t,n,e,u),t[mi]=(t[mi]&4294901760)+u+2),u++}function m_(t,e){Kt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Kt(5,t,e)}}function vS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[H]>>14<t[mi]>>16&&(t[H]&3)===e&&(t[H]+=16384,m_(c,s)):m_(c,s)}var Ii=-1,Xs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function _S(t){return t instanceof Xs}function IS(t){return(t.flags&8)!==0}function wS(t){return(t.flags&16)!==0}function LI(t){return t!==Ii}function Nc(t){return t&32767}function ES(t){return t>>16}function Pc(t,e){let n=ES(t),r=e;for(;n>0;)r=r[Ai],n--;return r}var rh=!0;function y_(t){let e=rh;return rh=t,e}var DS=256,VI=DS-1,UI=5,TS=0,Qt={};function bS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zs)&&(r=n[zs]),r==null&&(r=n[zs]=TS++);let i=r&VI,s=1<<i;e.data[t+(i>>UI)]|=s}function jI(t,e){let n=BI(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Ld(r.data,t),Ld(e,null),Ld(r.blueprint,null));let i=Yh(t,e),s=t.injectorIndex;if(LI(i)){let o=Nc(i),c=Pc(i,e),u=c[ae].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Ld(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Yh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=GI(i),r===null)return Ii;if(n++,i=i[Ai],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ii}function CS(t,e,n){bS(t,e,n)}function SS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(rI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function $I(t,e,n){if(n&X.Optional||t!==void 0)return t;Nh(e,"NodeInjector")}function HI(t,e,n,r){if(n&X.Optional&&r===void 0&&(r=null),!(n&(X.Self|X.Host))){let i=t[Di],s=vt(void 0);try{return i?i.get(e,r,n&X.Optional):J_(e,r,n&X.Optional)}finally{vt(s)}}return $I(r,e,n)}function qI(t,e,n,r=X.Default,i){if(t!==null){if(e[H]&2048&&!(r&X.Self)){let o=NS(t,e,n,r,Qt);if(o!==Qt)return o}let s=zI(t,e,n,r,Qt);if(s!==Qt)return s}return HI(e,n,r,i)}function zI(t,e,n,r,i){let s=xS(n);if(typeof s=="function"){if(!xI(e,t,r))return r&X.Host?$I(i,n,r):HI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&X.Optional))Nh(n);else return o}finally{OI()}}else if(typeof s=="number"){let o=null,c=BI(t,e),u=Ii,l=r&X.Host?e[Jt][Bt]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?Yh(t,e):e[c+8],u===Ii||!__(r,!1)?c=-1:(o=e[ae],c=Nc(u),e=Pc(u,e)));c!==-1;){let f=e[ae];if(v_(s,c,f.data)){let g=AS(c,e,n,o,r,l);if(g!==Qt)return g}u=e[c+8],u!==Ii&&__(r,e[ae].data[c+8]===l)&&v_(s,c,e)?(o=f,c=Nc(u),e=Pc(u,e)):c=-1}}return i}function AS(t,e,n,r,i,s){let o=e[ae],c=o.data[t+8],u=r==null?Yc(c)&&rh:r!=o&&(c.type&3)!==0,l=i&X.Host&&s===c,f=RS(c,o,n,u,l);return f!==null?eo(e,o,f,c):Qt}function RS(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,g=r?c:c+f,y=i?c+f:l;for(let T=g;T<y;T++){let A=o[T];if(T<u&&n===A||T>=u&&A.type===n)return T}if(i){let T=o[u];if(T&&co(T)&&T.type===n)return u}return null}function eo(t,e,n,r){let i=t[n],s=e.data;if(_S(i)){let o=i;o.resolving&&e0(XC(s[n]));let c=y_(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?vt(o.injectImpl):null,f=xI(t,r,X.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&yS(n,s[n],e)}finally{l!==null&&vt(l),y_(c),o.resolving=!1,OI()}}return i}function xS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zs)?t[zs]:void 0;return typeof e=="number"?e>=0?e&VI:MS:e}function v_(t,e,n){let r=1<<t;return!!(n[e+(t>>UI)]&r)}function __(t,e){return!(t&X.Self)&&!(t&X.Host&&e)}var Tr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qI(this._tNode,this._lView,e,Gc(r),n)}};function MS(){return new Tr(Tt(),Ee())}function Jh(t){return io(()=>{let e=t.prototype.constructor,n=e[Tc]||ih(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Tc]||ih(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ih(t){return z_(t)?()=>{let e=ih(_t(t));return e&&e()}:wi(t)}function NS(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[H]&2048&&!(o[H]&512);){let c=zI(s,o,n,r|X.Self,Qt);if(c!==Qt)return c;let u=s.parent;if(!u){let l=o[gI];if(l){let f=l.get(n,Qt,r);if(f!==Qt)return f}u=GI(o),o=o[Ai]}s=u}return i}function GI(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[Bt]:null}function Zh(t){return SS(Tt(),t)}function I_(t,e=null,n=null,r){let i=WI(t,e,n,r);return i.resolveInjectorInitializers(),i}function WI(t,e=null,n=null,r,i=new Set){let s=[n||kt,A0(t)];return r=r||(typeof t=="object"?void 0:it(t)),new Ks(s,e||Vh(),r||null,i)}var bt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return I_({name:""},i,r,"");{let s=r.name??"";return I_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Gs,e.NULL=new Sc,e.\u0275prov=V({token:e,providedIn:"any",factory:()=>z(eI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var PS="ngOriginalError";function Vd(t){return t[PS]}var Xt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Vd(e);for(;n&&Vd(n);)n=Vd(n);return n||null}},KI=new W("",{providedIn:"root",factory:()=>N(Xt).handleError.bind(void 0)}),Xh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),sh=class extends Xh{constructor(e){super(),this._lView=e}onDestroy(e){return bI(this._lView,e),()=>Z0(this._lView,e)}};function OS(){return new sh(Ee())}function kS(){return Jc(Tt(),Ee())}function Jc(t,e){return new ho(Dt(t,e))}var ho=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=kS;let t=e;return t})();var oh=class extends Ze{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,pI()&&(this.destroyRef=N(Xh,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Ud(s),i&&(i=Ud(i)),o&&(o=Ud(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof xe&&e.add(c),c}};function Ud(t){return e=>{setTimeout(t,void 0,e)}}var Ft=oh;function QI(t){return(t.flags&128)===128}var YI=new Map,FS=0;function LS(){return FS++}function VS(t){YI.set(t[Qc],t)}function US(t){YI.delete(t[Qc])}var w_="__ngContext__";function Ar(t,e){Dr(e)?(t[w_]=e[Qc],VS(e)):t[w_]=e}function JI(t){return XI(t[Ys])}function ZI(t){return XI(t[Lt])}function XI(t){for(;t!==null&&!In(t);)t=t[Lt];return t}var ah;function ew(t){ah=t}function jS(){if(ah!==void 0)return ah;if(typeof document<"u")return document;throw new j(210,!1)}var ef=new W("",{providedIn:"root",factory:()=>BS}),BS="ng",tf=new W(""),tn=new W("",{providedIn:"platform",factory:()=>"unknown"});var nf=new W("",{providedIn:"root",factory:()=>jS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $S="h",HS="b";var qS=()=>null;function rf(t,e,n=!1){return qS(t,e,n)}var tw=!1,zS=new W("",{providedIn:"root",factory:()=>tw});var yc;function GS(){if(yc===void 0&&(yc=null,Er.trustedTypes))try{yc=Er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yc}function E_(t){return GS()?.createScriptURL(t)||t}var Oc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$_})`}};function fo(t){return t instanceof Oc?t.changingThisBreaksApplicationSecurity:t}function sf(t,e){let n=WS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${$_})`)}return n===e}function WS(t){return t instanceof Oc&&t.getTypeName()||null}var KS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nw(t){return t=String(t),t.match(KS)?t:"unsafe:"+t}var Zc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Zc||{});function po(t){let e=iw();return e?e.sanitize(Zc.URL,t)||"":sf(t,"URL")?fo(t):nw(zc(t))}function QS(t){let e=iw();if(e)return E_(e.sanitize(Zc.RESOURCE_URL,t)||"");if(sf(t,"ResourceURL"))return E_(fo(t));throw new j(904,!1)}function YS(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?QS:po}function rw(t,e,n){return YS(e,n)(t)}function iw(){let t=Ee();return t&&t[jt].sanitizer}function sw(t){return t instanceof Function?t():t}function JS(t){return(t??N(bt)).get(tn)==="browser"}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yn||{}),ZS;function of(t,e){return ZS(t,e)}function yi(t,e,n,r,i){if(r!=null){let s,o=!1;In(r)?s=r:Dr(r)&&(o=!0,r=r[_n]);let c=Zt(r);t===0&&n!==null?i==null?lw(e,n,c):kc(e,n,c,i||null,!0):t===1&&n!==null?kc(e,n,c,i||null,!0):t===2?gA(e,c,o):t===3&&e.destroyNode(c),s!=null&&yA(e,t,s,n,i)}}function XS(t,e){return t.createText(e)}function eA(t,e,n){t.setValue(e,n)}function ow(t,e,n){return t.createElement(e,n)}function tA(t,e){aw(t,e),e[_n]=null,e[Bt]=null}function nA(t,e,n,r,i,s){r[_n]=i,r[Bt]=e,Xc(t,r,n,1,i,s)}function aw(t,e){e[jt].changeDetectionScheduler?.notify(1),Xc(t,e,e[Be],2,null,null)}function rA(t){let e=t[Ys];if(!e)return jd(t[ae],t);for(;e;){let n=null;if(Dr(e))n=e[Ys];else{let r=e[It];r&&(n=r)}if(!n){for(;e&&!e[Lt]&&e!==t;)Dr(e)&&jd(e[ae],e),e=e[Xe];e===null&&(e=t),Dr(e)&&jd(e[ae],e),n=e&&e[Lt]}e=n}}function iA(t,e,n,r){let i=It+r,s=n.length;r>0&&(n[i-1][Lt]=e),r<s-It?(e[Lt]=n[i],X_(n,It+r,e)):(n.push(e),e[Lt]=null),e[Xe]=n;let o=e[Kc];o!==null&&n!==o&&sA(o,e);let c=e[Ti];c!==null&&c.insertView(t),th(e),e[H]|=128}function sA(t,e){let n=t[xc],i=e[Xe][Xe][Jt];e[Jt]!==i&&(t[H]|=Uh.HasTransplantedViews),n===null?t[xc]=[e]:n.push(e)}function cw(t,e){let n=t[xc],r=n.indexOf(e);n.splice(r,1)}function ch(t,e){if(t.length<=It)return;let n=It+e,r=t[n];if(r){let i=r[Kc];i!==null&&i!==t&&cw(i,r),e>0&&(t[n-1][Lt]=r[Lt]);let s=Cc(t,It+e);tA(r[ae],r);let o=s[Ti];o!==null&&o.detachView(s[ae]),r[Xe]=null,r[Lt]=null,r[H]&=-129}return r}function uw(t,e){if(!(e[H]&256)){let n=e[Be];n.destroyNode&&Xc(t,e,n,3,null,null),rA(e)}}function jd(t,e){if(e[H]&256)return;let n=fe(null);try{e[H]&=-129,e[H]|=256,e[br]&&wv(e[br]),aA(t,e),oA(t,e),e[ae].type===1&&e[Be].destroy();let r=e[Kc];if(r!==null&&In(e[Xe])){r!==e[Xe]&&cw(r,e);let i=e[Ti];i!==null&&i.detachView(t)}US(e)}finally{fe(n)}}function oA(t,e){let n=t.cleanup,r=e[Qs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Qs]=null);let i=e[$n];if(i!==null){e[$n]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function aA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Xs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Kt(4,c,u);try{u.call(c)}finally{Kt(5,c,u)}}else{Kt(4,i,s);try{s.call(i)}finally{Kt(5,i,s)}}}}}function cA(t,e,n){return uA(t,e.parent,n)}function uA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[_n];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Yt.None||s===Yt.Emulated)return null}return Dt(r,n)}}function kc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function lw(t,e,n){t.appendChild(e,n)}function D_(t,e,n,r,i){r!==null?kc(t,e,n,r,i):lw(t,e,n)}function lA(t,e,n,r){t.removeChild(e,n,r)}function af(t,e){return t.parentNode(e)}function dA(t,e){return t.nextSibling(e)}function hA(t,e,n){return pA(t,e,n)}function fA(t,e,n){return t.type&40?Dt(t,n):null}var pA=fA,T_;function cf(t,e,n,r){let i=cA(t,r,e),s=e[Be],o=r.parent||e[Bt],c=hA(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)D_(s,i,n[u],c,!1);else D_(s,i,n,c,!1);T_!==void 0&&T_(s,r,e,n,i)}function Ec(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return uh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ec(t,r);{let i=t[e.index];return In(i)?uh(-1,i):Zt(i)}}else{if(n&32)return of(e,t)()||Zt(t[e.index]);{let r=dw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zs(t[Jt]);return Ec(i,r)}else return Ec(t,e.next)}}}return null}function dw(t,e){if(e!==null){let r=t[Jt][Bt],i=e.projection;return r.projection[i]}return null}function uh(t,e){let n=It+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Ec(r,i)}return e[Cr]}function gA(t,e,n){let r=af(t,e);r&&lA(t,r,e,n)}function uf(t,e,n,r,i,s,o){for(;n!=null;){let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Ar(Zt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)uf(t,e,n.child,r,i,s,!1),yi(e,t,i,c,s);else if(u&32){let l=of(n,r),f;for(;f=l();)yi(e,t,i,f,s);yi(e,t,i,c,s)}else u&16?mA(t,e,r,n,i,s):yi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Xc(t,e,n,r,i,s){uf(n,r,t.firstChild,e,i,s,!1)}function mA(t,e,n,r,i,s){let o=n[Jt],u=o[Bt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];yi(e,t,i,f,s)}else{let l=u,f=o[Xe];QI(r)&&(l.flags|=128),uf(t,e,l,f,i,s,!0)}}function yA(t,e,n,r,i){let s=n[Cr],o=Zt(n);s!==o&&yi(e,t,r,s,i);for(let c=It;c<n.length;c++){let u=n[c];Xc(u[ae],u,t,e,r,s)}}function vA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yn.Important),t.setStyle(n,r,i,s))}}function _A(t,e,n){t.setAttribute(e,"style",n)}function hw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function fw(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Qd(t,e,r),i!==null&&hw(t,e,i),s!==null&&_A(t,e,s)}var Qn={};function be(t=1){pw(en(),Ee(),Ri()+t,!1)}function pw(t,e,n,r){if(!r)if((e[H]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ic(e,s,n)}else{let s=t.preOrderHooks;s!==null&&wc(e,s,0,n)}Sr(n)}function ft(t,e=X.Default){let n=Ee();if(n===null)return z(t,e);let r=Tt();return qI(r,n,_t(t),e)}function gw(){let t="invalid";throw new Error(t)}function mw(t,e,n,r,i,s){let o=fe(null);try{let c=null;i&Vt.SignalBased&&(c=e[r][ei]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Vt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):vI(e,c,r,s)}finally{fe(o)}}function IA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Sr(~i);else{let s=i,o=n[++r],c=n[++r];dS(o,s);let u=e[s];c(2,u)}}}finally{Sr(-1)}}function eu(t,e,n,r,i,s,o,c,u,l,f){let g=e.blueprint.slice();return g[_n]=i,g[H]=r|4|128|8|64,(l!==null||t&&t[H]&2048)&&(g[H]|=2048),TI(g),g[Xe]=g[Ai]=t,g[Ut]=n,g[jt]=o||t&&t[jt],g[Be]=c||t&&t[Be],g[Di]=u||t&&t[Di]||null,g[Bt]=s,g[Qc]=LS(),g[Ac]=f,g[gI]=l,g[Jt]=e.type==2?t[Jt]:g,g}function tu(t,e,n,r,i){let s=t.data[e];if(s===null)s=wA(t,e,n,r,i),lS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=sS();s.injectorIndex=o===null?-1:o.injectorIndex}return lo(s,!0),s}function wA(t,e,n,r,i){let s=SI(),o=AI(),c=o?s:s&&s.parent,u=t.data[e]=CA(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function yw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vw(t,e,n,r,i){let s=Ri(),o=r&2;try{Sr(-1),o&&e.length>qn&&pw(t,e,qn,!1),Kt(o?2:0,i),n(r,i)}finally{Sr(s),Kt(o?3:1,i)}}function _w(t,e,n){if(yI(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{fe(r)}}}function Iw(t,e,n){CI()&&(NA(t,e,n,Dt(n,e)),(n.flags&64)===64&&Cw(t,e,n))}function ww(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Ew(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=lf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lf(t,e,n,r,i,s,o,c,u,l,f){let g=qn+r,y=g+i,T=EA(g,y),A=typeof l=="function"?l():l;return T[ae]={type:t,blueprint:T,template:n,queries:null,viewQuery:c,declTNode:e,data:T.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function EA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Qn);return n}function DA(t,e,n,r){let s=r.get(zS,tw)||n===Yt.ShadowDom,o=t.selectRootElement(e,s);return TA(o),o}function TA(t){bA(t)}var bA=()=>null;function CA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return nS()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function b_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Vt.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?C_(r,n,l,c,u):C_(r,n,l,c)}return r}function C_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function SA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=s[f],y=n?n.get(g):null,T=y?y.inputs:null,A=y?y.outputs:null;u=b_(0,g.inputs,f,u,T),l=b_(1,g.outputs,f,l,A);let x=u!==null&&o!==null&&!Fh(e)?HA(u,f,o):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function AA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Dw(t,e,n,r,i,s,o,c){let u=Dt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(df(t,n,f,r,i),Yc(e)&&RA(n,e.index)):e.type&3?(r=AA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function RA(t,e){let n=Kn(e,t);n[H]&16||(n[H]|=64)}function Tw(t,e,n,r){if(CI()){let i=r===null?null:{"":-1},s=OA(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&bw(t,e,n,o,i,c),i&&kA(n,r,i)}n.mergedAttrs=kh(n.mergedAttrs,n.attrs)}function bw(t,e,n,r,i,s){for(let l=0;l<r.length;l++)CS(jI(n,e),t,r[l].type);LA(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=yw(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=kh(n.mergedAttrs,f.hostAttrs),VA(t,n,e,u,f),FA(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}SA(t,n,s)}function xA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;MA(o)!=c&&o.push(c),o.push(n,r,s)}}function MA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function NA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Yc(n)&&UA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||jI(n,e),Ar(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=eo(e,t,c,n);if(Ar(l,e),o!==null&&$A(e,c-i,l,u,n,o),co(u)){let f=Kn(n.index,e);f[Ut]=eo(e,t,c,n)}}}function Cw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=hS();try{Sr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];nh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&PA(u,l)}}finally{Sr(-1),nh(o)}}function PA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function OA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(_0(e,o.selectors,!1))if(r||(r=[]),co(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;lh(t,e,u)}else r.unshift(o),lh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function lh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function FA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;co(e)&&(n[""]=t)}}function LA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function VA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=wi(i.type,!0)),o=new Xs(s,co(i),ft);t.blueprint[r]=o,n[r]=o,xA(t,e,r,yw(t,n,i.hostVars,Qn),i)}function UA(t,e,n){let r=Dt(e,t),i=Ew(n),s=t[jt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=nu(t,eu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function jA(t,e,n,r,i,s){let o=Dt(t,e);BA(e[Be],o,s,t.value,n,r,i)}function BA(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?zc(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function $A(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],g=o[c++];mw(r,n,u,l,f,g)}}function HA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function Sw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Aw(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];RI(s),c.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function nu(t,e){return t[Ys]?t[p_][Lt]=e:t[Ys]=e,t[p_]=e,e}function dh(t,e,n){RI(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function qA(t){return t[Qs]||(t[Qs]=[])}function zA(t){return t.cleanup||(t.cleanup=[])}function Rw(t,e){let n=t[Di],r=n?n.get(Xt,null):null;r&&r.handleError(e)}function df(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];mw(f,l,r,c,u,i)}}function GA(t,e,n){let r=EI(e,t);eA(t[Be],r,n)}function WA(t,e){let n=Kn(e,t),r=n[ae];KA(r,n);let i=n[_n];i!==null&&n[Ac]===null&&(n[Ac]=rf(i,n[Di])),hf(r,n,n[Ut])}function KA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function hf(t,e,n){qh(e);try{let r=t.viewQuery;r!==null&&dh(1,r,n);let i=t.template;i!==null&&vw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ti]?.finishViewCreation(t),t.staticContentQueries&&Aw(t,e),t.staticViewQueries&&dh(2,t.viewQuery,n);let s=t.components;s!==null&&QA(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[H]&=-5,zh()}}function QA(t,e){for(let n=0;n<e.length;n++)WA(t,e[n])}function YA(t,e,n,r){let i=fe(null);try{let s=e.tView,c=t[H]&4096?4096:16,u=eu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Kc]=l;let f=t[Ti];return f!==null&&(u[Ti]=f.createEmbeddedView(s)),hf(s,u,n),u}finally{fe(i)}}function S_(t,e){return!e||e.firstChild===null||QI(t)}function JA(t,e,n,r=!0){let i=e[ae];if(iA(i,e,t,n),r){let o=uh(n,t),c=e[Be],u=af(c,t[Cr]);u!==null&&nA(i,t[Bt],c,e,u,o)}let s=e[Ac];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Fc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Zt(s)),In(s)&&ZA(s,r);let o=n.type;if(o&8)Fc(t,e,n.child,r);else if(o&32){let c=of(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=dw(e,n);if(Array.isArray(c))r.push(...c);else{let u=Zs(e[Jt]);Fc(u[ae],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZA(t,e){for(let n=It;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Fc(r[ae],r,i,e)}t[Cr]!==t[_n]&&e.push(t[Cr])}var xw=[];function XA(t){return t[br]??eR(t)}function eR(t){let e=xw.pop()??Object.create(nR);return e.lView=t,e}function tR(t){t.lView[br]!==t&&(t.lView=null,xw.push(t))}var nR=Te(F({},pd),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Js(t.lView)},consumerOnSignalRead(){this.lView[br]=this}}),Mw=100;function Nw(t,e=!0,n=0){let r=t[jt],i=r.rendererFactory,s=!1;s||i.begin?.();try{rR(t,n)}catch(o){throw e&&Rw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function rR(t,e){hh(t,e);let n=0;for(;$h(t);){if(n===Mw)throw new j(103,!1);n++,hh(t,1)}}function iR(t,e,n,r){let i=e[H];if((i&256)===256)return;let s=!1;!s&&e[jt].inlineEffectRunner?.flush(),qh(e);let o=null,c=null;!s&&sR(t)&&(c=XA(e),o=_v(c));try{TI(e),cS(t.bindingStartIndex),n!==null&&vw(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let g=t.preOrderCheckHooks;g!==null&&Ic(e,g,null)}else{let g=t.preOrderHooks;g!==null&&wc(e,g,0,null),Fd(e,0)}if(oR(e),Pw(e,0),t.contentQueries!==null&&Aw(t,e),!s)if(u){let g=t.contentCheckHooks;g!==null&&Ic(e,g)}else{let g=t.contentHooks;g!==null&&wc(e,g,1),Fd(e,1)}IA(t,e);let l=t.components;l!==null&&kw(e,l,0);let f=t.viewQuery;if(f!==null&&dh(2,f,r),!s)if(u){let g=t.viewCheckHooks;g!==null&&Ic(e,g)}else{let g=t.viewHooks;g!==null&&wc(e,g,2),Fd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kd]){for(let g of e[kd])g();e[kd]=null}s||(e[H]&=-73)}catch(u){throw Js(e),u}finally{c!==null&&(Iv(c,o),tR(c)),zh()}}function sR(t){return t.type!==2}function Pw(t,e){for(let n=JI(t);n!==null;n=ZI(n))for(let r=It;r<n.length;r++){let i=n[r];Ow(i,e)}}function oR(t){for(let e=JI(t);e!==null;e=ZI(e)){if(!(e[H]&Uh.HasTransplantedViews))continue;let n=e[xc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Xe];Y0(i)}}}function aR(t,e,n){let r=Kn(e,t);Ow(r,n)}function Ow(t,e){Bh(t)&&hh(t,e)}function hh(t,e){let r=t[ae],i=t[H],s=t[br],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&gd(s)),s&&(s.dirty=!1),t[H]&=-9217,o)iR(r,t,r.template,t[Ut]);else if(i&8192){Pw(t,1);let c=r.components;c!==null&&kw(t,c,1)}}function kw(t,e,n){for(let r=0;r<e.length;r++)aR(t,e[r],n)}function ff(t){for(t[jt].changeDetectionScheduler?.notify();t;){t[H]|=64;let e=Zs(t);if(B0(t)&&!e)return t;t=e}return null}var Rr=class{get rootNodes(){let e=this._lView,n=e[ae];return Fc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return(this._lView[H]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(In(e)){let n=e[Rc],r=n?n.indexOf(this):-1;r>-1&&(ch(e,r),Cc(n,r))}this._attachedToViewContainer=!1}uw(this._lView[ae],this._lView)}onDestroy(e){bI(this._lView,e)}markForCheck(){ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[H]&=-129}reattach(){th(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,Nw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,aw(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,th(this._lView)}},ru=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lR;let t=e;return t})(),cR=ru,uR=class extends cR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=YA(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Rr(i)}};function lR(){return dR(Tt(),Ee())}function dR(t,e){return t.type&4?new uR(e,t,Jc(t,e)):null}var d$=new RegExp(`^(\\d+)*(${HS}|${$S})*(.*)`);var hR=()=>null;function A_(t,e){return hR(t,e)}var Lc=class{},fh=class{},Vc=class{};function fR(t){let e=Error(`No component factory found for ${it(t)}.`);return e[pR]=t,e}var pR="ngComponent";var ph=class{resolveComponentFactory(e){throw fR(e)}},iu=(()=>{let e=class e{};e.NULL=new ph;let t=e;return t})(),to=class{},su=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>gR();let t=e;return t})();function gR(){let t=Ee(),e=Tt(),n=Kn(e.index,t);return(Dr(n)?n:t)[Be]}var mR=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Bd={};var R_=new Set;function ou(t){R_.has(t)||(R_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function x_(...t){}function yR(){let t=typeof Er.requestAnimationFrame=="function",e=Er[t?"requestAnimationFrame":"setTimeout"],n=Er[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ye=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ft(!1),this.onMicrotaskEmpty=new Ft(!1),this.onStable=new Ft(!1),this.onError=new Ft(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=yR().nativeRequestAnimationFrame,IR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,vR,x_,x_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},vR={};function pf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _R(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Er,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gh(t),t.isCheckStableRunning=!0,pf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gh(t))}function IR(t){let e=()=>{_R(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(wR(c))return n.invokeTask(i,s,o,c);try{return M_(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),N_(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return M_(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),N_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,gh(t),pf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function gh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function M_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function N_(t){t._nesting--,pf(t)}function wR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var vi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(vi||{}),ER={destroy(){}};function au(t,e){!e&&U0(au);let n=e?.injector??N(bt);if(!JS(n))return ER;ou("NgAfterNextRender");let r=n.get(gf),i=r.handler??=new yh,s=e?.phase??vi.MixedReadWrite,o=()=>{i.unregister(u),c()},c=n.get(Xh).onDestroy(o),u=vn(n,()=>new mh(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var mh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=N(ye),this.errorHandler=N(Xt,{optional:!0}),N(Lc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},yh=class{constructor(){this.executingCallbacks=!1,this.buckets={[vi.EarlyRead]:new Set,[vi.Write]:new Set,[vi.MixedReadWrite]:new Set,[vi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},gf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function vh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=i_(i,c);else if(s==2){let u=c,l=e[++o];r=i_(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Uc=class extends iu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hn(e);return new bi(n,this.ngModule)}};function P_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function DR(t){let e=t.toLowerCase();return e==="svg"?z0:e==="math"?G0:null}var _h=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Gc(r);let i=this.injector.get(e,Bd,r);return i!==Bd||n===Bd?i:this.parentInjector.get(e,n,r)}},bi=class extends Vc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=P_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return P_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=D0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof at?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new _h(e,o):e,u=c.get(to,null);if(u===null)throw new j(407,!1);let l=c.get(mR,null),f=c.get(gf,null),g=c.get(Lc,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:g},T=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=r?DA(T,r,this.componentDef.encapsulation,c):ow(T,A,DR(A)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let L=null;x!==null&&(L=rf(x,c,!0));let Z=lf(0,null,null,1,0,null,null,null,null,null,null),q=eu(null,Z,null,R,null,null,y,T,c,null,L);qh(q);let re,Ce;try{let Q=this.componentDef,w,m=null;Q.findHostDirectiveDefs?(w=[],m=new Map,Q.findHostDirectiveDefs(Q,w,m),w.push(Q)):w=[Q];let v=TR(q,x),I=bR(v,x,Q,w,q,y,T);Ce=DI(Z,qn),x&&AR(T,Q,x,r),n!==void 0&&RR(Ce,this.ngContentSelectors,n),re=SR(I,Q,w,m,q,[xR]),hf(Z,q,null)}finally{zh()}return new Ih(this.componentType,re,Jc(Ce,q),q,Ce)}finally{fe(s)}}},Ih=class extends fh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Rr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;df(s[ae],s,i,e,n),this.previousInputValues.set(e,n);let o=Kn(this._tNode.index,s);ff(o)}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function TR(t,e){let n=t[ae],r=qn;return t[r]=e,tu(n,r,2,"#host",null)}function bR(t,e,n,r,i,s,o){let c=i[ae];CR(r,t,e,o);let u=null;e!==null&&(u=rf(e,i[Di]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=eu(i,Ew(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&lh(c,t,r.length-1),nu(i,g),i[t.index]=g}function CR(t,e,n,r){for(let i of t)e.mergedAttrs=kh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(vh(e,e.mergedAttrs,!0),n!==null&&fw(r,n,e))}function SR(t,e,n,r,i,s){let o=Tt(),c=i[ae],u=Dt(o,i);bw(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let g=o.directiveStart+f,y=eo(i,c,g,o);Ar(y,i)}Cw(c,i,o),u&&Ar(u,i);let l=eo(i,c,o.directiveStart+o.componentOffset,o);if(t[Ut]=i[Ut]=l,s!==null)for(let f of s)f(l,e);return _w(c,o,i),l}function AR(t,e,n,r){if(r)Qd(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:s}=T0(e.selectors[0]);i&&Qd(t,n,i),s&&s.length>0&&hw(t,n,s.join(" "))}}function RR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function xR(){let t=Tt();Qh(Ee()[ae],t)}var xi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=MR;let t=e;return t})();function MR(){let t=Tt();return PR(t,Ee())}var NR=xi,Fw=class extends NR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Jc(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yh(this._hostTNode,this._hostLView);if(LI(e)){let n=Pc(e,this._hostLView),r=Nc(e),i=n[ae].data[r+8];return new Tr(i,n)}else return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=O_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=A_(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,S_(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!j0(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new bi(Hn(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?l:this.parentInjector).get(at,null);x&&(s=x)}let f=Hn(u.componentType??{}),g=A_(this._lContainer,f?.id??null),y=g?.firstChild??null,T=u.create(l,i,y,s);return this.insertImpl(T.hostView,c,S_(this._hostTNode,g)),T}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Q0(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Xe],l=new Fw(u,u[Bt],u[Xe]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return JA(o,i,s,r),e.attachToViewContainerRef(),X_($d(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=O_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ch(this._lContainer,n);r&&(Cc($d(this._lContainer),n),uw(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=ch(this._lContainer,n);return r&&Cc($d(this._lContainer),n)!=null?new Rr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function O_(t){return t[Rc]}function $d(t){return t[Rc]||(t[Rc]=[])}function PR(t,e){let n,r=e[t.index];return In(r)?n=r:(n=Sw(r,e,null,t),e[t.index]=n,nu(e,n)),kR(n,e,t,r),new Fw(n,t,e)}function OR(t,e){let n=t[Be],r=n.createComment(""),i=Dt(e,t),s=af(n,i);return kc(n,s,r,dA(n,i),!1),r}var kR=VR,FR=()=>!1;function LR(t,e,n){return FR(t,e,n)}function VR(t,e,n,r){if(t[Cr])return;let i;n.type&8?i=Zt(r):i=OR(e,n),t[Cr]=i}function Lw(t,e){ou("NgSignals");let n=Sv(t),r=n[ei];return e?.equal&&(r.equal=e.equal),n.set=i=>md(r,i),n.update=i=>Av(r,i),n.asReadonly=UR.bind(n),n}function UR(){let t=this[ei];if(t.readonlyFn===void 0){let e=()=>this();e[ei]=t,t.readonlyFn=e}return t.readonlyFn}function mf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var zn=class{},no=class{};var wh=class extends zn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uc(this);let i=cI(e);this._bootstrapComponents=sw(i.bootstrap),this._r3Injector=WI(e,n,[{provide:zn,useValue:this},{provide:iu,useValue:this.componentFactoryResolver},...r],it(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Eh=class extends no{constructor(e){super(),this.moduleType=e}create(e){return new wh(this.moduleType,e,[])}};var jc=class extends zn{constructor(e){super(),this.componentFactoryResolver=new Uc(this),this.instance=null;let n=new Ks([...e.providers,{provide:zn,useValue:this},{provide:iu,useValue:this.componentFactoryResolver}],e.parent||Vh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cu(t,e,n=null){return new jc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var uu=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vw(t){return BR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function jR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function BR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function $R(t,e,n){return t[e]=n}function HR(t,e){return t[e]}function lu(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function qR(t){return(t.flags&32)===32}function zR(t,e,n,r,i,s,o,c,u){let l=e.consts,f=tu(e,t,4,o||null,Mc(l,c));Tw(e,n,f,Mc(l,u)),Qh(e,f);let g=f.tView=lf(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function Yn(t,e,n,r,i,s,o,c){let u=Ee(),l=en(),f=t+qn,g=l.firstCreatePass?zR(f,l,u,e,n,r,i,s,o):l.data[f];lo(g,!1);let y=GR(l,u,g,t);Wh()&&cf(l,u,y,g),Ar(y,u);let T=Sw(y,u,y,g);return u[f]=T,nu(u,T),LR(T,g,u),jh(g)&&Iw(l,u,g),o!=null&&ww(u,g,c),Yn}var GR=WR;function WR(t,e,n,r){return Kh(!0),e[Be].createComment("")}function yf(t,e,n,r){let i=Ee(),s=Hh();if(lu(i,s,e)){let o=en(),c=Gh();jA(c,i,t,e,n,r)}return yf}function Uw(t,e,n,r){return lu(t,Hh(),n)?e+zc(n)+r:Qn}function vc(t,e){return t<<17|e<<2}function xr(t){return t>>17&32767}function KR(t){return(t&2)==2}function QR(t,e){return t&131071|e<<17}function Dh(t){return t|2}function Ci(t){return(t&131068)>>2}function Hd(t,e){return t&-131069|e<<2}function YR(t){return(t&1)===1}function Th(t){return t|1}function JR(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=xr(o),u=Ci(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||oo(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=xr(t[c+1]);t[r+1]=vc(y,c),y!==0&&(t[y+1]=Hd(t[y+1],r)),t[c+1]=QR(t[c+1],r)}else t[r+1]=vc(c,0),c!==0&&(t[c+1]=Hd(t[c+1],r)),c=r;else t[r+1]=vc(u,0),c===0?c=r:t[u+1]=Hd(t[u+1],r),u=r;l&&(t[r+1]=Dh(t[r+1])),k_(t,f,r,!0),k_(t,f,r,!1),ZR(e,f,t,r,s),o=vc(c,u),s?e.classBindings=o:e.styleBindings=o}function ZR(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&oo(s,e)>=0&&(n[r+1]=Th(n[r+1]))}function k_(t,e,n,r){let i=t[n+1],s=e===null,o=r?xr(i):Ci(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];XR(u,e)&&(c=!0,t[o+1]=r?Th(l):Dh(l)),o=r?xr(l):Ci(l)}c&&(t[n+1]=r?Dh(i):Th(i))}function XR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?oo(t,e)>=0:!1}function We(t,e,n){let r=Ee(),i=Hh();if(lu(r,i,e)){let s=en(),o=Gh();Dw(s,o,r,t,e,r[Be],n,!1)}return We}function F_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";df(t,n,s[o],o,r)}function vf(t,e){return ex(t,e,null,!0),vf}function ex(t,e,n,r){let i=Ee(),s=en(),o=uS(2);if(s.firstUpdatePass&&nx(s,t,o,r),e!==Qn&&lu(i,o,e)){let c=s.data[Ri()];ax(s,c,i,i[Be],t,i[o+1]=cx(e,n),r,o)}}function tx(t,e){return e>=t.expandoStartIndex}function nx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ri()],o=tx(t,n);ux(s,r)&&e===null&&!o&&(e=!1),e=rx(i,s,e,r),JR(i,s,e,n,o,r)}}function rx(t,e,n,r){let i=fS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=qd(null,t,e,n,r),n=ro(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=qd(i,t,e,n,r),s===null){let u=ix(t,e,r);u!==void 0&&Array.isArray(u)&&(u=qd(null,t,e,u[1],r),u=ro(u,e.attrs,r),sx(t,e,r,u))}else s=ox(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function ix(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ci(r)!==0)return t[xr(r)]}function sx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[xr(i)]=r}function ox(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ro(r,o,n)}return ro(r,e.attrs,n)}function qd(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=ro(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ro(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),d0(t,o,n?!0:e[++s]))}return t===void 0?null:t}function ax(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=YR(l)?L_(u,e,n,i,Ci(l),o):void 0;if(!Bc(f)){Bc(s)||KR(l)&&(s=L_(u,null,n,i,c,o));let g=EI(Ri(),n);vA(r,o,g,i,s)}}function L_(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,y=n[i+1];y===Qn&&(y=g?kt:void 0);let T=g?Pd(y,r):f===r?y:void 0;if(l&&!Bc(T)&&(T=Pd(u,r)),Bc(T)&&(c=T,o))return c;let A=t[i+1];i=o?xr(A):Ci(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Pd(u,r))}return c}function Bc(t){return t!==void 0}function cx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=it(fo(t)))),t}function ux(t,e){return(t.flags&(e?8:16))!==0}function lx(t,e,n,r,i,s){let o=e.consts,c=Mc(o,i),u=tu(e,t,2,r,c);return Tw(e,n,u,Mc(o,s)),u.attrs!==null&&vh(u,u.attrs,!1),u.mergedAttrs!==null&&vh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function he(t,e,n,r){let i=Ee(),s=en(),o=qn+t,c=i[Be],u=s.firstCreatePass?lx(o,s,i,e,n,r):s.data[o],l=dx(s,i,u,c,e,t);i[o]=l;let f=jh(u);return lo(u,!0),fw(c,l,u),!qR(u)&&Wh()&&cf(s,i,l,u),X0()===0&&Ar(l,i),eS(),f&&(Iw(s,i,u),_w(s,u,i)),r!==null&&ww(i,u),he}function ve(){let t=Tt();AI()?oS():(t=t.parent,lo(t,!1));let e=t;rS(e)&&iS(),tS();let n=en();return n.firstCreatePass&&(Qh(n,t),yI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&IS(e)&&F_(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wS(e)&&F_(n,e,Ee(),e.stylesWithoutHost,!1),ve}function $t(t,e,n,r){return he(t,e,n,r),ve(),$t}var dx=(t,e,n,r,i,s)=>(Kh(!0),ow(r,i,mS()));function Mr(){return Ee()}var $c="en-US";var hx=$c;function fx(t){typeof t=="string"&&(hx=t.toLowerCase().replace(/_/g,"-"))}function Ct(t,e,n,r){let i=Ee(),s=en(),o=Tt();return gx(s,i,i[Be],o,t,e,r),Ct}function px(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[Qs],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function gx(t,e,n,r,i,s,o){let c=jh(r),l=t.firstCreatePass&&zA(t),f=e[Ut],g=qA(e),y=!0;if(r.type&3||o){let x=Dt(r,e),R=o?o(x):x,L=g.length,Z=o?re=>o(Zt(re[r.index])):r.index,q=null;if(!o&&c&&(q=px(t,e,i,r.index)),q!==null){let re=q.__ngLastListenerFn__||q;re.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,y=!1}else{s=U_(r,e,f,s,!1);let re=n.listen(R,i,s);g.push(s,re),l&&l.push(i,Z,L,L+1)}}else s=U_(r,e,f,s,!1);let T=r.outputs,A;if(y&&T!==null&&(A=T[i])){let x=A.length;if(x)for(let R=0;R<x;R+=2){let L=A[R],Z=A[R+1],Ce=e[L][Z].subscribe(s),Q=g.length;g.push(s,Ce),l&&l.push(i,r.index,Q,-(Q+1))}}}function V_(t,e,n,r){let i=fe(null);try{return Kt(6,e,n),n(r)!==!1}catch(s){return Rw(t,s),!1}finally{Kt(7,e,n),fe(i)}}function U_(t,e,n,r,i){return function s(o){if(o===Function)return r;let c=t.componentOffset>-1?Kn(t.index,e):e;ff(c);let u=V_(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=V_(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function Ht(t=1){return gS(t)}function go(t,e,n){return jw(t,"",e,"",n),go}function jw(t,e,n,r,i){let s=Ee(),o=Uw(s,e,n,r);if(o!==Qn){let c=en(),u=Gh();Dw(c,u,s,t,o,s[Be],i,!1)}return jw}function De(t,e=""){let n=Ee(),r=en(),i=t+qn,s=r.firstCreatePass?tu(r,i,1,e,null):r.data[i],o=mx(r,n,s,e,t);n[i]=o,Wh()&&cf(r,n,o,s),lo(s,!1)}var mx=(t,e,n,r,i)=>(Kh(!0),XS(e[Be],r));function Mi(t){return Jn("",t,""),Mi}function Jn(t,e,n){let r=Ee(),i=Uw(r,t,e,n);return i!==Qn&&GA(r,Ri(),i),Jn}var yx=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=dI(!1,r.type),s=i.length>0?cu([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(z(at))});let t=e;return t})();function St(t){ou("NgStandalone"),t.getStandaloneInjector=e=>e.get(yx).getOrCreateStandaloneInjector(t)}function Ni(t,e,n){let r=aS()+t,i=Ee();return i[r]===Qn?$R(i,r,n?e.call(n):e()):HR(i,r)}var Gn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Bw=new Gn("17.3.10"),du=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var $w=new W("");function mo(t){return!!t&&typeof t.then=="function"}function Hw(t){return!!t&&typeof t.subscribe=="function"}var hu=new W(""),qw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=N(hu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(mo(o))r.push(o);else if(Hw(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fu=new W("");function vx(){Cv(()=>{throw new j(600,!1)})}function _x(t){return t.isBoundToModule}function Ix(t,e,n){try{let r=n();return mo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var yo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(KI),this.afterRenderEffectManager=N(gf),this.externalTestViews=new Set,this.beforeRender=new Ze,this.afterTick=new Ze,this.componentTypes=[],this.components=[],this.isStable=N(uu).hasPendingTasks.pipe(ee(r=>!r)),this._injector=N(at)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Vc;if(!this._injector.get(qw).done){let T=!s&&aI(r),A=!1;throw new j(405,A)}let c;s?c=r:c=this._injector.get(iu).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=_x(c)?void 0:this._injector.get(zn),l=i||c.selector,f=c.create(bt.NULL,[],l,u),g=f.location.nativeElement,y=f.injector.get($w,null);return y?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),zd(this.components,f),y?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new j(101,!1);let i=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,fe(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Mw)throw new j(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:c,notifyErrorHandler:u}of this._views)wx(c,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>bh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>bh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;zd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(fu,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>zd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new j(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wx(t,e,n){!e&&!bh(t)||Ex(t,n,e)}function bh(t){return $h(t)}function Ex(t,e,n){let r;n?(r=0,t[H]|=1024):t[H]&64?r=0:r=1,Nw(t,e,r)}var Ch=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},pu=(()=>{let e=class e{compileModuleSync(r){return new Eh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=cI(r),o=sw(s.declarations).reduce((c,u)=>{let l=Hn(u);return l&&c.push(new bi(l)),c},[]);return new Ch(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Dx=(()=>{let e=class e{constructor(){this.zone=N(ye),this.applicationRef=N(yo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Tx(t){return[{provide:ye,useFactory:t},{provide:Ei,multi:!0,useFactory:()=>{let e=N(Dx,{optional:!0});return()=>e.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{let e=N(Ax);return()=>{e.initialize()}}},{provide:KI,useFactory:bx}]}function bx(){let t=N(ye),e=N(Xt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Cx(t){let e=Tx(()=>new ye(Sx(t)));return Wn([[],e])}function Sx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Ax=(()=>{let e=class e{constructor(){this.subscription=new xe,this.initialized=!1,this.zone=N(ye),this.pendingTasks=N(uu)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rx(){return typeof $localize<"u"&&$localize.locale||$c}var _f=new W("",{providedIn:"root",factory:()=>N(_f,X.Optional|X.SkipSelf)||Rx()});var zw=new W("");var Dc=null;function xx(t=[],e){return bt.create({name:e,providers:[{provide:Wc,useValue:"platform"},{provide:zw,useValue:new Set([()=>Dc=null])},...t]})}function Mx(t=[]){if(Dc)return Dc;let e=xx(t);return Dc=e,vx(),Nx(e),e}function Nx(t){t.get(tf,null)?.forEach(n=>n())}var vo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Px;let t=e;return t})();function Px(t){return Ox(Tt(),Ee(),(t&16)===16)}function Ox(t,e,n){if(Yc(t)&&!n){let r=Kn(t.index,e);return new Rr(r,r)}else if(t.type&47){let r=e[Jt];return new Rr(r,e)}return null}var Sh=class{constructor(){}supports(e){return Vw(e)}create(e){return new Ah(e)}},kx=(t,e)=>e,Ah=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<j_(r,i,s)?n:r,c=j_(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let T=y<s.length?s[y]:s[y]=0,A=T+y;f<=A&&A<l&&(s[y]=T+1)}let g=o.previousIndex;s[g]=f-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Vw(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,jR(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Rh(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Rh=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Hc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new xh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function j_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function B_(){return new If([new Sh])}var If=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||B_()),deps:[[e,new Ph,new wt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new j(901,!1)}};e.\u0275prov=V({token:e,providedIn:"root",factory:B_});let t=e;return t})();function Gw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Mx(r),s=[Cx(),...n||[]],c=new jc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ye);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(Xt,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:T=>{l.handleError(T)}})});let g=()=>c.destroy(),y=i.get(zw);return y.add(g),c.onDestroy(()=>{f.unsubscribe(),y.delete(g)}),Ix(l,u,()=>{let T=c.get(qw);return T.runInitializers(),T.donePromise.then(()=>{let A=c.get(_f,$c);fx(A||$c);let x=c.get(yo);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}function _o(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ww(t){let e=Hn(t);if(!e)return null;let n=new bi(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Zw=null;function Pi(){return Zw}function Xw(t){Zw??=t}var gu=class{};var ct=new W(""),bf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>N(Fx),providedIn:"platform"});let t=e;return t})(),eE=new W(""),Fx=(()=>{let e=class e extends bf{constructor(){super(),this._doc=N(ct),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pi().getBaseHref(this._doc)}onPopState(r){let i=Pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Cf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Kw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Dn(t){return t&&t[0]!=="?"?"?"+t:t}var Tn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>N(Sf),providedIn:"root"});let t=e;return t})(),tE=new W(""),Sf=(()=>{let e=class e extends Tn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Cf(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Dn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Dn(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Dn(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(z(bf),z(tE,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nE=(()=>{let e=class e extends Tn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Cf(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Dn(o));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Dn(o));c.length==0&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(z(bf),z(tE,8))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Oi=(()=>{let e=class e{constructor(r){this._subject=new Ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Ux(Kw(Qw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Dn(i))}normalize(r){return e.stripTrailingSlash(Vx(this._basePath,Qw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Dn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Dn,e.joinWithSlash=Cf,e.stripTrailingSlash=Kw,e.\u0275fac=function(i){return new(i||e)(z(Tn))},e.\u0275prov=V({token:e,factory:()=>Lx(),providedIn:"root"});let t=e;return t})();function Lx(){return new Oi(z(Tn))}function Vx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Qw(t){return t.replace(/\/index.html$/,"")}function Ux(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function rE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var wf=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yu=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,c)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new wf(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,c),Yw(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Yw(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ft(xi),ft(ru),ft(If))},e.\u0275dir=Si({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Yw(t,e){t.context.$implicit=e.item}var vu=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Ef,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Jw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Jw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ft(xi),ft(ru))},e.\u0275dir=Si({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Ef=class{constructor(){this.$implicit=null,this.ngIf=null}};function Jw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${it(e)}'.`)}var bn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ao({type:e}),e.\u0275inj=so({});let t=e;return t})(),Af="browser",jx="server";function Bx(t){return t===Af}function Rf(t){return t===jx}var iE=(()=>{let e=class e{};e.\u0275prov=V({token:e,providedIn:"root",factory:()=>Bx(N(tn))?new Df(N(ct),window):new Tf});let t=e;return t})(),Df=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=$x(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function $x(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Tf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},mu=class{};var Pf=class extends gu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Of=class t extends Pf{static makeCurrent(){Xw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Hx();return n==null?null:qx(n)}resetBaseElement(){Io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return rE(document.cookie,e)}},Io=null;function Hx(){return Io=Io||document.querySelector("base"),Io?Io.getAttribute("href"):null}function qx(t){return new URL(t,document.baseURI).pathname}var zx=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),kf=new W(""),cE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new j(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(z(kf),z(ye))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),_u=class{constructor(e){this._doc=e}},Mf="ng-app-id",uE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Rf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Mf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Mf),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Mf,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(z(ct),z(ef),z(nf,8),z(tn))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lf=/%COMP%/g,lE="%COMP%",Gx=`_nghost-${lE}`,Wx=`_ngcontent-${lE}`,Kx=!0,Qx=new W("",{providedIn:"root",factory:()=>Kx});function Yx(t){return Wx.replace(Lf,t)}function Jx(t){return Gx.replace(Lf,t)}function dE(t,e){return e.map(n=>n.replace(Lf,t))}var sE=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Rf(u),this.defaultRenderer=new wo(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Yt.ShadowDom&&(i=Te(F({},i),{encapsulation:Yt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Iu?s.applyToHost(r):s instanceof Eo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Yt.Emulated:o=new Iu(l,f,i,this.appId,g,c,u,y);break;case Yt.ShadowDom:return new Ff(l,f,r,i,c,u,this.nonce,y);default:o=new Eo(l,f,i,g,c,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(z(cE),z(uE),z(ef),z(Qx),z(ct),z(tn),z(ye),z(nf))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),wo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(oE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(oE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Nf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(n,r,i&yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function oE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ff=class extends wo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=dE(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Eo=class extends wo{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?dE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Iu=class extends Eo{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=Yx(l),this.hostAttr=Jx(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Zx=(()=>{let e=class e extends _u{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(z(ct))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})(),aE=["alt","control","meta","shift"],Xx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tM=(()=>{let e=class e extends _u{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pi().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),aE.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=Xx[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),aE.forEach(c=>{if(c!==s){let u=eM[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(z(ct))},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function hE(t,e){return Gw(F({rootComponent:t},nM(e)))}function nM(t){return{appProviders:[...aM,...t?.providers??[]],platformProviders:oM}}function rM(){Of.makeCurrent()}function iM(){return new Xt}function sM(){return ew(document),document}var oM=[{provide:tn,useValue:Af},{provide:tf,useValue:rM,multi:!0},{provide:ct,useFactory:sM,deps:[]}];var aM=[{provide:Wc,useValue:"root"},{provide:Xt,useFactory:iM,deps:[]},{provide:kf,useClass:Zx,multi:!0,deps:[ct,ye,tn]},{provide:kf,useClass:tM,multi:!0,deps:[ct]},sE,uE,cE,{provide:to,useExisting:sE},{provide:mu,useClass:zx,deps:[]},[]];var fE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(z(ct))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y="primary",Vo=Symbol("RouteTitle"),$f=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ui(t){return new $f(t)}function uM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}function nn(t,e){let n=t?Hf(t):void 0,r=e?Hf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!EE(t[i],e[i]))return!1;return!0}function Hf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function EE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function DE(t){return t.length>0?t[t.length-1]:null}function nr(t){return Rd(t)?t:mo(t)?Ae(Promise.resolve(t)):$(t)}var dM={exact:bE,subset:CE},TE={exact:hM,subset:fM,ignored:()=>!0};function pE(t,e,n){return dM[n.paths](t.root,e.root,n.matrixParams)&&TE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function hM(t,e){return nn(t,e)}function bE(t,e,n){if(!Pr(t.segments,e.segments)||!Du(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!bE(t.children[r],e.children[r],n))return!1;return!0}function fM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>EE(t[n],e[n]))}function CE(t,e,n){return SE(t,e,e.segments,n)}function SE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Pr(i,n)||e.hasChildren()||!Du(i,n,r))}else if(t.segments.length===n.length){if(!Pr(t.segments,n)||!Du(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!CE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Pr(t.segments,i)||!Du(t.segments,i,r)||!t.children[Y]?!1:SE(t.children[Y],e,s,r)}}function Du(t,e,n){return e.every((r,i)=>TE[n](t[i].parameters,r.parameters))}var Zn=class{constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ui(this.queryParams),this._queryParamMap}toString(){return mM.serialize(this)}},ge=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tu(this)}},Nr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ui(this.parameters),this._parameterMap}toString(){return RE(this)}};function pM(t,e){return Pr(t,e)&&t.every((n,r)=>nn(n.parameters,e[r].parameters))}function Pr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function gM(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Y&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Y&&(n=n.concat(e(i,r)))}),n}var Uo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>new Ro,providedIn:"root"});let t=e;return t})(),Ro=class{parse(e){let n=new zf(e);return new Zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Do(e.root,!0)}`,r=_M(e.queryParams),i=typeof e.fragment=="string"?`#${yM(e.fragment)}`:"";return`${n}${r}${i}`}},mM=new Ro;function Tu(t){return t.segments.map(e=>RE(e)).join("/")}function Do(t,e){if(!t.hasChildren())return Tu(t);if(e){let n=t.children[Y]?Do(t.children[Y],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Y&&r.push(`${i}:${Do(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=gM(t,(r,i)=>i===Y?[Do(t.children[Y],!1)]:[`${i}:${Do(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Y]!=null?`${Tu(t)}/${n[0]}`:`${Tu(t)}/(${n.join("//")})`}}function AE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wu(t){return AE(t).replace(/%3B/gi,";")}function yM(t){return encodeURI(t)}function qf(t){return AE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bu(t){return decodeURIComponent(t)}function gE(t){return bu(t.replace(/\+/g,"%20"))}function RE(t){return`${qf(t.path)}${vM(t.parameters)}`}function vM(t){return Object.entries(t).map(([e,n])=>`;${qf(e)}=${qf(n)}`).join("")}function _M(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wu(n)}=${wu(i)}`).join("&"):`${wu(n)}=${wu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var IM=/^[^\/()?;#]+/;function Vf(t){let e=t.match(IM);return e?e[0]:""}var wM=/^[^\/()?;=#]+/;function EM(t){let e=t.match(wM);return e?e[0]:""}var DM=/^[^=?&#]+/;function TM(t){let e=t.match(DM);return e?e[0]:""}var bM=/^[^&#]+/;function CM(t){let e=t.match(bM);return e?e[0]:""}var zf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Y]=new ge(e,n)),r}parseSegment(){let e=Vf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Nr(bu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=EM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vf(this.remaining);i&&(r=i,this.capture(r))}e[bu(n)]=bu(r)}parseQueryParam(e){let n=TM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=CM(this.remaining);o&&(r=o,this.capture(r))}let i=gE(n),s=gE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Y);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Y]:new ge([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function xE(t){return t.segments.length>0?new ge([],{[Y]:t}):t}function ME(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ME(i);if(r===Y&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ge(t.segments,e);return SM(n)}function SM(t){if(t.numberOfChildren===1&&t.children[Y]){let e=t.children[Y];return new ge(t.segments.concat(e.segments),e.children)}return t}function ji(t){return t instanceof Zn}function AM(t,e,n=null,r=null){let i=NE(t);return PE(i,e,n,r)}function NE(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ge(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=xE(r);return e??i}function PE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Uf(i,i,i,n,r);let s=RM(e);if(s.toRoot())return Uf(i,i,new ge([],{}),n,r);let o=xM(s,i,t),c=o.processChildren?Co(o.segmentGroup,o.index,s.commands):kE(o.segmentGroup,o.index,s.commands);return Uf(i,o.segmentGroup,c,n,r)}function Cu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function xo(t){return typeof t=="object"&&t!=null&&t.outlets}function Uf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=OE(t,e,n);let c=xE(ME(o));return new Zn(c,s,i)}function OE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=OE(s,e,n)}),new ge(t.segments,r)}var Su=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Cu(r[0]))throw new j(4003,!1);let i=r.find(xo);if(i&&i!==DE(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function RM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Su(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Su(n,e,r)}var Li=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xM(t,e,n){if(t.isAbsolute)return new Li(e,!0,0);if(!n)return new Li(e,!1,NaN);if(n.parent===null)return new Li(n,!0,0);let r=Cu(t.commands[0])?0:1,i=n.segments.length-1+r;return MM(n,i,t.numberOfDoubleDots)}function MM(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Li(r,!1,i-s)}function NM(t){return xo(t[0])?t[0].outlets:{[Y]:t}}function kE(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return Co(t,e,n);let r=PM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ge(t.segments.slice(0,r.pathIndex),{});return s.children[Y]=new ge(t.segments.slice(r.pathIndex),t.children),Co(s,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?Gf(t,e,n):r.match?Co(t,0,i):Gf(t,e,n)}function Co(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=NM(n),i={};if(Object.keys(r).some(s=>s!==Y)&&t.children[Y]&&t.numberOfChildren===1&&t.children[Y].segments.length===0){let s=Co(t.children[Y],e,n);return new ge(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=kE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ge(t.segments,i)}}function PM(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(xo(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!yE(u,l,o))return s;r+=2}else{if(!yE(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(xo(s)){let u=OM(s.outlets);return new ge(r,u)}if(i===0&&Cu(n[0])){let u=t.segments[e];r.push(new Nr(u.path,mE(n[0]))),i++;continue}let o=xo(s)?s.outlets[Y]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Cu(c)?(r.push(new Nr(o,mE(c))),i+=2):(r.push(new Nr(o,{})),i++)}return new ge(r,{})}function OM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gf(new ge([],{}),0,r))}),e}function mE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function yE(t,e,n){return t==n.path&&nn(e,n.parameters)}var So="imperative",$e=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}($e||{}),At=class{constructor(e,n){this.id=e,this.url=n}},Bi=class extends At{constructor(e,n,r="imperative",i=null){super(e,n),this.type=$e.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends At{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gt||{}),Au=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Au||{}),Xn=class extends At{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends At{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$e.NavigationSkipped}},Mo=class extends At{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ru=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kf=class extends At{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Qf=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends At{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jf=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zf=class{constructor(e){this.route=e,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xf=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ep=class{constructor(e){this.snapshot=e,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tp=class{constructor(e){this.snapshot=e,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},np=class{constructor(e){this.snapshot=e,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=$e.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},No=class{},Po=class{constructor(e){this.url=e}};var rp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jo,this.attachRef=null}},jo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new rp,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ip(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ip(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sp(e,this._root).map(n=>n.value)}};function ip(t,e){if(t===e.value)return e;for(let n of e.children){let r=ip(t,n);if(r)return r}return null}function sp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sp(t,n);if(r.length)return r.unshift(e),r}return[]}var pt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nu=class extends Mu{constructor(e,n){super(e),this.snapshot=n,gp(this,e)}toString(){return this.snapshot.toString()}};function FE(t){let e=kM(t),n=new Ge([new Nr("",{})]),r=new Ge({}),i=new Ge({}),s=new Ge({}),o=new Ge(""),c=new tr(n,r,s,o,i,Y,t,e.root);return c.snapshot=e.root,new Nu(new pt(c,[]),e)}function kM(t){let e={},n={},r={},i="",s=new Oo([],e,r,i,n,Y,t,null,{});return new Pu("",new pt(s,[]))}var tr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[Vo]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Ui(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Ui(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function pp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&VE(i)&&(r.resolve[Vo]=i.title),r}var Oo=class{get title(){return this.data?.[Vo]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ui(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ui(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Pu=class extends Mu{constructor(e,n){super(n),this.url=e,gp(this,n)}toString(){return LE(this._root)}};function gp(t,e){e.value._routerState=t,e.children.forEach(n=>gp(t,n))}function LE(t){let e=t.children.length>0?` { ${t.children.map(LE).join(", ")} } `:"";return`${t.value}${e}`}function jf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nn(e.params,n.params)||t.paramsSubject.next(n.params),lM(e.url,n.url)||t.urlSubject.next(n.url),nn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function op(t,e){let n=nn(t.params,e.params)&&pM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||op(t.parent,e.parent))}function VE(t){return typeof t.title=="string"||t.title===null}var mp=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Y,this.activateEvents=new Ft,this.deactivateEvents=new Ft,this.attachEvents=new Ft,this.detachEvents=new Ft,this.parentContexts=N(jo),this.location=N(xi),this.changeDetector=N(vo),this.environmentInjector=N(at),this.inputBinder=N(Lu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new ap(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Si({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[uo]});let t=e;return t})(),ap=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===tr?this.route:e===jo?this.childContexts:this.parent.get(e,n)}},Lu=new W(""),vE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Hs([i.queryParams,i.params,i.data]).pipe(yt(([o,c,u],l)=>(u=F(F(F({},o),c),u),l===0?$(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let c=Ww(i.component);if(!c){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of c.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function FM(t,e,n){let r=ko(t,e._root,n?n._root:void 0);return new Nu(r,e)}function ko(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=LM(t,e,n);return new pt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>ko(t,c)),o}}let r=VM(e.value),i=e.children.map(s=>ko(t,s));return new pt(r,i)}}function LM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ko(t,r,i);return ko(t,r)})}function VM(t){return new tr(new Ge(t.url),new Ge(t.params),new Ge(t.queryParams),new Ge(t.fragment),new Ge(t.data),t.outlet,t.component,t)}var UE="ngNavigationCancelingError";function jE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BE(!1,gt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function BE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UE]=!0,n.cancellationCode=e,n}function UM(t){return $E(t)&&ji(t.url)}function $E(t){return!!t&&t[UE]}var jM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Et({type:e,selectors:[["ng-component"]],standalone:!0,features:[St],decls:1,vars:0,template:function(i,s){i&1&&$t(0,"router-outlet")},dependencies:[mp],encapsulation:2});let t=e;return t})();function BM(t,e){return t.providers&&!t._injector&&(t._injector=cu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function yp(t){let e=t.children&&t.children.map(yp),n=e?Te(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Y&&(n.component=jM),n}function sn(t){return t.outlet||Y}function $M(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function Bo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var HM=(t,e,n,r)=>ee(i=>(new cp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),cp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),jf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Fi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Fi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new np(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ep(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(jf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),jf(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=Bo(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Ou=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vi=class{constructor(e,n){this.component=e,this.route=n}};function qM(t,e,n){let r=t._root,i=e?e._root:null;return To(r,i,n,[r.value])}function zM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Hi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!G_(t)?t:e.get(t):r}function To(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fi(e);return t.children.forEach(o=>{GM(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Ao(c,n.getContext(o),i)),i}function GM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=WM(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ou(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?To(t,e,c?c.children:null,r,i):To(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Vi(c.outlet.component,o))}else o&&Ao(e,c,i),i.canActivateChecks.push(new Ou(r)),s.component?To(t,null,c?c.children:null,r,i):To(t,null,n,r,i);return i}function WM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Pr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pr(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!op(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!op(t,e)}}function Ao(t,e,n){let r=Fi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ao(o,e.children.getContext(s),n):Ao(o,null,n):Ao(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Vi(e.outlet.component,i)):n.canDeactivateChecks.push(new Vi(null,i)):n.canDeactivateChecks.push(new Vi(null,i))}function $o(t){return typeof t=="function"}function KM(t){return typeof t=="boolean"}function QM(t){return t&&$o(t.canLoad)}function YM(t){return t&&$o(t.canActivate)}function JM(t){return t&&$o(t.canActivateChild)}function ZM(t){return t&&$o(t.canDeactivate)}function XM(t){return t&&$o(t.canMatch)}function HE(t){return t instanceof gn||t?.name==="EmptyError"}var Eu=Symbol("INITIAL_VALUE");function $i(){return yt(t=>Hs(t.map(e=>e.pipe(mn(1),gc(Eu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Eu)return Eu;if(n===!1||n instanceof Zn)return n}return!0}),ht(e=>e!==Eu),mn(1)))}function eN(t,e){return Ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?$(Te(F({},n),{guardsResult:!0})):tN(o,r,i,t).pipe(Ne(c=>c&&KM(c)?nN(r,s,t,e):$(c)),ee(c=>Te(F({},n),{guardsResult:c})))})}function tN(t,e,n,r){return Ae(t).pipe(Ne(i=>aN(i.component,i.route,n,e,r)),Wt(i=>i!==!0,!0))}function nN(t,e,n,r){return Ae(e).pipe(wr(i=>fi(iN(i.route.parent,r),rN(i.route,r),oN(t,i.path,n),sN(t,i.route,n))),Wt(i=>i!==!0,!0))}function rN(t,e){return t!==null&&e&&e(new tp(t)),$(!0)}function iN(t,e){return t!==null&&e&&e(new Xf(t)),$(!0)}function sN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(s=>hc(()=>{let o=Bo(e)??n,c=Hi(s,o),u=YM(c)?c.canActivate(e,t):vn(o,()=>c(e,t));return nr(u).pipe(Wt())}));return $(i).pipe($i())}function oN(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>zM(o)).filter(o=>o!==null).map(o=>hc(()=>{let c=o.guards.map(u=>{let l=Bo(o.node)??n,f=Hi(u,l),g=JM(f)?f.canActivateChild(r,t):vn(l,()=>f(r,t));return nr(g).pipe(Wt())});return $(c).pipe($i())}));return $(s).pipe($i())}function aN(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $(!0);let o=s.map(c=>{let u=Bo(e)??i,l=Hi(c,u),f=ZM(l)?l.canDeactivate(t,e,n,r):vn(u,()=>l(t,e,n,r));return nr(f).pipe(Wt())});return $(o).pipe($i())}function cN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(o=>{let c=Hi(o,t),u=QM(c)?c.canLoad(e,n):vn(t,()=>c(e,n));return nr(u)});return $(s).pipe($i(),qE(r))}function qE(t){return Ja(Le(e=>{if(ji(e))throw jE(t,e)}),ee(e=>e===!0))}function uN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(o=>{let c=Hi(o,t),u=XM(c)?c.canMatch(e,n):vn(t,()=>c(e,n));return nr(u)});return $(s).pipe($i(),qE(r))}var Fo=class{constructor(e){this.segmentGroup=e||null}},ku=class extends Error{constructor(e){super(),this.urlTree=e}};function ki(t){return di(new Fo(t))}function lN(t){return di(new j(4e3,!1))}function dN(t){return di(BE(!1,gt.GuardRejected))}var up=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[Y])return lN(e.redirectTo);i=i.children[Y]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ku(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Zn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ge(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},lp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hN(t,e,n,r,i){let s=vp(t,e,n);return s.matched?(r=BM(e,r),uN(r,e,n,i).pipe(ee(o=>o===!0?s:F({},lp)))):$(s)}function vp(t,e,n){if(e.path==="**")return fN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},lp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uM)(n,t,e);if(!i)return F({},lp);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fN(t){return{matched:!0,parameters:t.length>0?DE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function _E(t,e,n,r){return n.length>0&&mN(t,n,r)?{segmentGroup:new ge(e,gN(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&yN(t,n,r)?{segmentGroup:new ge(t.segments,pN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function pN(t,e,n,r){let i={};for(let s of n)if(Vu(t,e,s)&&!r[sn(s)]){let o=new ge([],{});i[sn(s)]=o}return F(F({},r),i)}function gN(t,e){let n={};n[Y]=e;for(let r of t)if(r.path===""&&sn(r)!==Y){let i=new ge([],{});n[sn(r)]=i}return n}function mN(t,e,n){return n.some(r=>Vu(t,e,r)&&sn(r)!==Y)}function yN(t,e,n){return n.some(r=>Vu(t,e,r))}function Vu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function vN(t,e,n,r){return sn(t)!==r&&(r===Y||!Vu(e,n,t))?!1:vp(e,t,n).matched}function _N(t,e,n){return e.length===0&&!t.children[n]}var dp=class{};function IN(t,e,n,r,i,s,o="emptyOnly"){return new hp(t,e,n,r,i,o,s).recognize()}var wN=31,hp=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new up(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=_E(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let r=new Oo([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,{},Y,this.rootComponentType,null,{}),i=new pt(r,n),s=new Pu("",i),o=AM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Y).pipe(Un(r=>{if(r instanceof ku)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=pp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ee(s=>s instanceof pt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ae(i).pipe(wr(s=>{let o=r.children[s],c=$M(n,s);return this.processSegmentGroup(e,c,o,s)}),pc((s,o)=>(s.push(...o),s)),jn(null),Md(),Ne(s=>{if(s===null)return ki(r);let o=zE(s);return EN(o),$(o)}))}processSegment(e,n,r,i,s,o){return Ae(n).pipe(wr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o).pipe(Un(u=>{if(u instanceof Fo)return $(null);throw u}))),Wt(c=>!!c),Un(c=>{if(HE(c))return _N(r,i,s)?$(new dp):ki(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,c){return vN(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ki(i):ki(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=vp(n,i,s);if(!c)return ki(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wN&&(this.allowRedirects=!1));let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,g).pipe(Ne(y=>this.processSegment(e,r,n,y.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=hN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(yt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:g,parameters:y}=c,T=new Oo(f,y,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,TN(r),sn(r),r.component??r._loadedComponent??null,r,bN(r)),{segmentGroup:A,slicedSegments:x}=_E(n,f,g,u);if(x.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(ee(L=>L===null?null:new pt(T,L)));if(u.length===0&&x.length===0)return $(new pt(T,[]));let R=sn(r)===s;return this.processSegment(l,u,A,x,R?Y:s,!0).pipe(ee(L=>new pt(T,L instanceof pt?[L]:[])))}))):ki(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):cN(e,n,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(e,n).pipe(Le(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):dN(n))):$({routes:[],injector:e})}};function EN(t){t.sort((e,n)=>e.value.outlet===Y?-1:n.value.outlet===Y?1:e.value.outlet.localeCompare(n.value.outlet))}function DN(t){let e=t.value.routeConfig;return e&&e.path===""}function zE(t){let e=[],n=new Set;for(let r of t){if(!DN(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=zE(r.children);e.push(new pt(r.value,i))}return e.filter(r=>!n.has(r))}function TN(t){return t.data||{}}function bN(t){return t.resolve||{}}function CN(t,e,n,r,i,s){return Ne(o=>IN(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:c,tree:u})=>Te(F({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function SN(t,e){return Ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of GE(u))o.add(l);let c=0;return Ae(o).pipe(wr(u=>s.has(u)?AN(u,r,t,e):(u.data=pp(u,u.parent,t).resolve,$(void 0))),Le(()=>c++),pi(1),Ne(u=>c===o.size?$(n):dt))})}function GE(t){let e=t.children.map(n=>GE(n)).flat();return[t,...e]}function AN(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!VE(i)&&(s[Vo]=i.title),RN(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=pp(t,t.parent,n).resolve,null)))}function RN(t,e,n,r){let i=Hf(t);if(i.length===0)return $({});let s={};return Ae(i).pipe(Ne(o=>xN(t[o],e,n,r).pipe(Wt(),Le(c=>{s[o]=c}))),pi(1),xd(s),Un(o=>HE(o)?dt:di(o)))}function xN(t,e,n,r){let i=Bo(e)??r,s=Hi(t,i),o=s.resolve?s.resolve(e,n):vn(i,()=>s(e,n));return nr(o)}function Bf(t){return yt(e=>{let n=t(e);return n?Ae(n).pipe(ee(()=>e)):$(e)})}var WE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Y);return i}getResolvedTitleForRoute(r){return r.data[Vo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>N(MN),providedIn:"root"});let t=e;return t})(),MN=(()=>{let e=class e extends WE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(z(fE))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ho=new W("",{providedIn:"root",factory:()=>({})}),Lo=new W(""),_p=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(pu)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=nr(r.loadComponent()).pipe(ee(KE),Le(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),qs(()=>{this.componentLoaders.delete(r)})),s=new ai(i,()=>new Ze).pipe(oi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=NN(i,this.compiler,r,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(i)})),c=new ai(o,()=>new Ze).pipe(oi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NN(t,e,n,r){return nr(t.loadChildren()).pipe(ee(KE),Ne(i=>i instanceof no||Array.isArray(i)?$(i):Ae(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Lo,[],{optional:!0,self:!0}).flat()),{routes:o.map(yp),injector:s}}))}function PN(t){return t&&typeof t=="object"&&"default"in t}function KE(t){return PN(t)?t.default:t}var Ip=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>N(ON),providedIn:"root"});let t=e;return t})(),ON=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QE=new W(""),YE=new W("");function kN(t,e,n){let r=t.get(YE),i=t.get(ct);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),FN(t))),{onViewTransitionCreated:u}=r;return u&&vn(t,()=>u({transition:c,from:e,to:n})),o})}function FN(t){return new Promise(e=>{au(e,{injector:t})})}var wp=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ze,this.transitionAbortSubject=new Ze,this.configLoader=N(_p),this.environmentInjector=N(at),this.urlSerializer=N(Uo),this.rootContexts=N(jo),this.location=N(Oi),this.inputBindingEnabled=N(Lu,{optional:!0})!==null,this.titleStrategy=N(WE),this.options=N(Ho,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Ip),this.createViewTransition=N(QE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Jf(s)),i=s=>this.events.next(new Zf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Te(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ge({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:So,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ht(o=>o.id!==0),ee(o=>Te(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yt(o=>{let c=!1,u=!1;return $(o).pipe(yt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",gt.SupersededByNewNavigation),dt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Te(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let y="";return this.events.next(new er(l.id,this.urlSerializer.serialize(l.rawUrl),y,Au.IgnoredSameUrlNavigation)),l.resolve(null),dt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $(l).pipe(yt(y=>{let T=this.transitions?.getValue();return this.events.next(new Bi(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),T!==this.transitions?.getValue()?dt:Promise.resolve(y)}),CN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Le(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Te(F({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let T=new Ru(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(T)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:T,source:A,restoredState:x,extras:R}=l,L=new Bi(y,this.urlSerializer.serialize(T),A,x);this.events.next(L);let Z=FE(this.rootComponentType).snapshot;return this.currentTransition=o=Te(F({},l),{targetSnapshot:Z,urlAfterRedirects:T,extras:Te(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=T,$(o)}else{let y="";return this.events.next(new er(l.id,this.urlSerializer.serialize(l.extractedUrl),y,Au.IgnoredByUrlHandlingStrategy)),l.resolve(null),dt}}),Le(l=>{let f=new Wf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ee(l=>(this.currentTransition=o=Te(F({},l),{guards:qM(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),eN(this.environmentInjector,l=>this.events.next(l)),Le(l=>{if(o.guardsResult=l.guardsResult,ji(l.guardsResult))throw jE(this.urlSerializer,l.guardsResult);let f=new Kf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",gt.GuardRejected),!1)),Bf(l=>{if(l.guards.canActivateChecks.length)return $(l).pipe(Le(f=>{let g=new Qf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),yt(f=>{let g=!1;return $(f).pipe(SN(this.paramsInheritanceStrategy,this.environmentInjector),Le({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",gt.NoDataFromResolver)}}))}),Le(f=>{let g=new Yf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Bf(l=>{let f=g=>{let y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(Le(T=>{g.component=T}),ee(()=>{})));for(let T of g.children)y.push(...f(T));return y};return Hs(f(l.targetSnapshot.root)).pipe(jn(null),mn(1))}),Bf(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Ae(g).pipe(ee(()=>o)):$(o)}),ee(l=>{let f=FM(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Te(F({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Le(()=>{this.events.next(new No)}),HM(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),mn(1),Le({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Nd(this.transitionAbortSubject.pipe(Le(l=>{throw l}))),qs(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",gt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Un(l=>{if(u=!0,$E(l))this.events.next(new Xn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),UM(l)?this.events.next(new Po(l.url)):o.resolve(!1);else{this.events.next(new Mo(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return dt}))}))}cancelNavigationTransition(r,i,s){let o=new Xn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LN(t){return t!==So}var VN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>N(UN),providedIn:"root"});let t=e;return t})(),fp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},UN=(()=>{let e=class e extends fp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jh(e)))(s||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:()=>N(jN),providedIn:"root"});let t=e;return t})(),jN=(()=>{let e=class e extends JE{constructor(){super(...arguments),this.location=N(Oi),this.urlSerializer=N(Uo),this.options=N(Ho,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Ip),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=FE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Bi)this.stateMemento=this.createStateMemento();else if(r instanceof er)this.rawUrlTree=i.initialUrl;else if(r instanceof Ru){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof No?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Xn&&(r.code===gt.GuardRejected||r.code===gt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Mo?this.restoreHistory(i,!0):r instanceof rn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Jh(e)))(s||e)}})(),e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(bo||{});function ZE(t,e){t.events.pipe(ht(n=>n instanceof rn||n instanceof Xn||n instanceof Mo||n instanceof er),ee(n=>n instanceof rn||n instanceof er?bo.COMPLETE:(n instanceof Xn?n.code===gt.Redirect||n.code===gt.SupersededByNewNavigation:!1)?bo.REDIRECTING:bo.FAILED),ht(n=>n!==bo.REDIRECTING),mn(1)).subscribe(()=>{e()})}function BN(t){throw t}var $N={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(du),this.stateManager=N(JE),this.options=N(Ho,{optional:!0})||{},this.pendingTasks=N(uu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(wp),this.urlSerializer=N(Uo),this.location=N(Oi),this.urlHandlingStrategy=N(Ip),this._events=new Ze,this.errorHandler=this.options.errorHandler||BN,this.navigated=!1,this.routeReuseStrategy=N(VN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Lo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Lu,{optional:!0}),this.eventsSubscription=new xe,this.isNgZoneEnabled=N(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Xn&&i.code!==gt.Redirect&&i.code!==gt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof rn)this.navigated=!0;else if(i instanceof Po){let c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||LN(s.source)};this.scheduleNavigation(c,So,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}zN(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),So,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=F({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(yp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u){case"merge":g=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let y;try{let T=s?s.snapshot:this.routerState.snapshot.root;y=NE(T)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return PE(y,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ji(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,So,null,i)}navigate(r,i={skipLocationChange:!1}){return qN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},$N):i===!1?s=F({},HN):s=i,ji(r))return pE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return pE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,T)=>{u=y,l=T});let g=this.pendingTasks.add();return ZE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function zN(t){return!(t instanceof No)&&!(t instanceof Po)}var qi=(()=>{let e=class e{constructor(r,i,s,o,c,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=c,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:rw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ft(Cn),ft(tr),Zh("tabindex"),ft(su),ft(ho),ft(Tn))},e.\u0275dir=Si({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Ct("click",function(c){return s.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&yf("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Vt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",_o],skipLocationChange:[Vt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",_o],replaceUrl:[Vt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",_o],routerLink:"routerLink"},standalone:!0,features:[mf,uo]});let t=e;return t})();var Fu=class{};var GN=(()=>{let e=class e{constructor(r,i,s,o,c){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ht(r=>r instanceof rn),wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=cu(o.providers,r,`Route: ${o.path}`));let c=o._injector??r,u=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Ae(s).pipe(hi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=$(null);let o=s.pipe(Ne(c=>c===null?$(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??r,c.routes))));if(i.loadComponent&&!i._loadedComponent){let c=this.loader.loadComponent(i);return Ae([o,c]).pipe(hi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(z(Cn),z(pu),z(at),z(Fu),z(_p))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XE=new W(""),WN=(()=>{let e=class e{constructor(r,i,s,o,c={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=N(at),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof rn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof er&&r.code===Au.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xu&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>S(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),au(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new xu(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){gw()},e.\u0275prov=V({token:e,factory:e.\u0275fac});let t=e;return t})();function eD(t,...e){return Wn([{provide:Lo,multi:!0,useValue:t},[],{provide:tr,useFactory:tD,deps:[Cn]},{provide:fu,multi:!0,useFactory:nD},e.map(n=>n.\u0275providers)])}function tD(t){return t.routerState.root}function qo(t,e){return{\u0275kind:t,\u0275providers:e}}function nD(){let t=N(bt);return e=>{let n=t.get(yo);if(e!==n.components[0])return;let r=t.get(Cn),i=t.get(rD);t.get(Ep)===1&&r.initialNavigation(),t.get(iD,null,X.Optional)?.setUpPreloading(),t.get(XE,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rD=new W("",{factory:()=>new Ze}),Ep=new W("",{providedIn:"root",factory:()=>1});function KN(){return qo(2,[{provide:Ep,useValue:0},{provide:hu,multi:!0,deps:[bt],useFactory:e=>{let n=e.get(eE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Cn),s=e.get(rD);ZE(i,()=>{r(!0)}),e.get(wp).afterPreactivation=()=>(r(!0),s.closed?$(void 0):s),i.initialNavigation()}))}}])}function QN(){return qo(3,[{provide:hu,multi:!0,useFactory:()=>{let e=N(Cn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ep,useValue:2}])}var iD=new W("");function YN(t){return qo(0,[{provide:iD,useExisting:GN},{provide:Fu,useExisting:t}])}function JN(){return qo(8,[vE,{provide:Lu,useExisting:vE}])}function ZN(t){let e=[{provide:QE,useValue:kN},{provide:YE,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return qo(9,e)}var IE=new W("ROUTER_FORROOT_GUARD"),XN=[Oi,{provide:Uo,useClass:Ro},Cn,jo,{provide:tr,useFactory:tD,deps:[Cn]},_p,[]],zi=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[XN,[],{provide:Lo,multi:!0,useValue:r},{provide:IE,useFactory:rP,deps:[[Cn,new wt,new Ph]]},{provide:Ho,useValue:i||{}},i?.useHash?tP():nP(),eP(),i?.preloadingStrategy?YN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?iP(i):[],i?.bindToComponentInputs?JN().\u0275providers:[],i?.enableViewTransitions?ZN().\u0275providers:[],sP()]}}static forChild(r){return{ngModule:e,providers:[{provide:Lo,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(z(IE,8))},e.\u0275mod=ao({type:e}),e.\u0275inj=so({});let t=e;return t})();function eP(){return{provide:XE,useFactory:()=>{let t=N(iE),e=N(ye),n=N(Ho),r=N(wp),i=N(Uo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new WN(i,r,t,e,n)}}}function tP(){return{provide:Tn,useClass:nE}}function nP(){return{provide:Tn,useClass:Sf}}function rP(t){return"guarded"}function iP(t){return[t.initialNavigation==="disabled"?QN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?KN().\u0275providers:[]]}var wE=new W("");function sP(){return[{provide:wE,useFactory:nD},{provide:fu,multi:!0,useExisting:wE}]}var oP=()=>["/dresses-list"];function aP(t,e){t&1&&(he(0,"div"),De(1,"Your cart is empty."),ve())}function cP(t,e){if(t&1){let n=Mr();he(0,"div")(1,"button",4),Ct("click",function(){wn(n);let i=Ht();return En(i.clearCart())}),De(2,"Clear Cart"),ve()()}}function uP(t,e){if(t&1){let n=Mr();he(0,"div",8),$t(1,"img",9),he(2,"div",10)(3,"div",11),De(4),ve(),he(5,"div",12),De(6),ve()(),he(7,"div",13)(8,"button",14),Ct("click",function(){let i=wn(n).$implicit,s=Ht(2);return En(s.decreaseQuantity(i))}),De(9,"-"),ve(),he(10,"span",15),De(11),ve(),he(12,"button",14),Ct("click",function(){let i=wn(n).$implicit,s=Ht(2);return En(s.increaseQuantity(i))}),De(13,"+"),ve()(),he(14,"button",16),Ct("click",function(){let i=wn(n).$implicit,s=Ht(2);return En(s.removeFromCart(i.id))}),De(15," Remove "),ve()()}if(t&2){let n=e.$implicit;be(),go("alt",n.title),We("src",n.image,po),be(3),Mi(n.title),be(2),Jn("\u20AC ",n.price," EUR"),be(5),Mi(n.quantity)}}function lP(t,e){if(t&1){let n=Mr();he(0,"div"),Yn(1,uP,16,5,"div",5),he(2,"div",6),De(3),ve(),he(4,"button",7),Ct("click",function(){wn(n);let i=Ht();return En(i.submitOrder())}),De(5,"Submit Order"),ve()()}if(t&2){let n=Ht();be(),We("ngForOf",n.dressesInCart),be(2),Jn("Total Price: \u20AC ",n.getTotalPrice()," EUR")}}var sD=(()=>{let e=class e{constructor(){this.dressesInCart=[]}ngOnInit(){if(this.isBrowser()){let r=localStorage.getItem("cart");r&&(this.dressesInCart=JSON.parse(r))}}decreaseQuantity(r){r.quantity>1&&(r.quantity--,this.updateCartInStorage())}increaseQuantity(r){r.quantity++,this.updateCartInStorage()}getTotalPrice(){return this.dressesInCart.reduce((r,i)=>r+i.price*i.quantity,0)}submitOrder(){alert("Thank you for your order!"),this.isBrowser()&&localStorage.removeItem("cart"),this.dressesInCart=[]}updateCartInStorage(){this.isBrowser()&&localStorage.setItem("cart",JSON.stringify(this.dressesInCart))}isBrowser(){return typeof window<"u"&&typeof window.localStorage<"u"}removeFromCart(r){let i=this.dressesInCart.findIndex(s=>s.id===r);if(i!==-1){let s=this.dressesInCart.splice(i,1)[0];this.updateCartInStorage(),alert(`${s.title} has been removed from the cart!`)}}clearCart(){this.dressesInCart=[],this.isBrowser()&&localStorage.removeItem("cart"),alert("Cart has been cleared!")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Et({type:e,selectors:[["cart"]],standalone:!0,features:[St],decls:9,vars:5,consts:[[1,"pageTitle"],[3,"routerLink"],[1,"cart__container"],[4,"ngIf"],[1,"clean__button",3,"click"],["class","dress__item",4,"ngFor","ngForOf"],[1,"totaPrice"],[1,"submitOrder",3,"click"],[1,"dress__item"],["width","50",3,"src","alt"],[1,"dress__details"],[1,"dress__title"],[1,"dress__price"],[1,"actions"],[3,"click"],[1,"quantity"],[1,"remove__button",3,"click"]],template:function(i,s){i&1&&(he(0,"h1",0),De(1,"Cart"),ve(),he(2,"h2")(3,"a",1),De(4,"Go to home page"),ve()(),he(5,"div",2),Yn(6,aP,2,0,"div",3)(7,cP,3,0,"div",3)(8,lP,6,2,"div",3),ve()),i&2&&(be(3),We("routerLink",Ni(4,oP)),be(3),We("ngIf",s.dressesInCart.length===0),be(),We("ngIf",s.dressesInCart.length>0),be(),We("ngIf",s.dressesInCart.length>0))},dependencies:[bn,yu,vu,zi,qi],styles:[".pageTitle[_ngcontent-%COMP%]{text-align:center}.cart__container[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column;gap:5%}.dress__item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;padding:10px;border-bottom:1px solid #ccc}.dress__details[_ngcontent-%COMP%]{flex:1;margin-left:10px}.dress__title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.dress__price[_ngcontent-%COMP%]{color:#888}.actions[_ngcontent-%COMP%]{display:flex;align-items:center}.actions[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{margin:0 10px;font-size:1em}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#9e9e9e;border:none;padding:5px 10px;cursor:pointer;border-radius:4px;transition:background-color .3s}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;color:#757575}.totalPrice[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;margin-top:20px}.submitOrder[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:10px 20px;cursor:pointer;border-radius:4px;transition:background-color .3s;margin-top:10px}.submitOrder[_ngcontent-%COMP%]:hover{background-color:#218838}.remove__button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:5px 10px;cursor:pointer;border-radius:4px;transition:background-color .3s;margin-left:10px}.remove__button[_ngcontent-%COMP%]:hover{background-color:#c82333}.clean__button[_ngcontent-%COMP%]{float:right;border:none;padding:10px 20px;cursor:pointer;border-radius:4px;transition:background-color .3s;margin-top:10px}.clean__button[_ngcontent-%COMP%]:hover{color:#0056b3}"]});let t=e;return t})();var aD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,T=l&63;u||(T=64,o||(y=64)),r.push(n[f],n[g],n[y],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||g==null)throw new bp;let y=s<<2|c>>4;if(r.push(y),l!==64){let T=c<<4&240|l>>2;if(r.push(T),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},bp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},hP=function(t){let e=aD(t);return cD.encodeByteArray(e,!0)},zo=function(t){return hP(t).replace(/\./g,"")},Sp=function(t){try{return cD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var pP=()=>fP().__FIREBASE_DEFAULTS__,gP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sp(t[1]);return e&&JSON.parse(e)},ju=()=>{try{return pP()||gP()||mP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uD=t=>{var e,n;return(n=(e=ju())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lD=t=>{let e=uD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ap=()=>{var t;return(t=ju())===null||t===void 0?void 0:t.config},dD=t=>{var e;return(e=ju())===null||e===void 0?void 0:e[`_${t}`]};var Uu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function hD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zo(JSON.stringify(n)),zo(JSON.stringify(o)),""].join(".")}function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function yP(){var t;let e=(t=ju())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mD(){return!yP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rp(){try{return typeof indexedDB=="object"}catch{return!1}}function yD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var vP="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sn.prototype.create)}},Sn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_P(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Rt(i,c,r)}};function _P(t,e){return t.replace(IP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var IP=/\{\$([^}]+)}/g;function Gi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(oD(s)&&oD(o)){if(!Gi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oD(t){return t!==null&&typeof t=="object"}function xp(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vD(t,e){let n=new Cp(t,e);return n.subscribe.bind(n)}var Cp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tp),i.error===void 0&&(i.error=Tp),i.complete===void 0&&(i.complete=Tp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tp(){}var NH=4*60*60*1e3;function rr(t){return t&&t._delegate?t._delegate:t}var xt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Or="[DEFAULT]";var Mp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Uu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DP(e))try{this.getOrInitializeService({instanceIdentifier:Or})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Or){return this.instances.has(e)}getOptions(e=Or){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Or){return this.component?this.component.multipleInstances?e:Or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function EP(t){return t===Or?void 0:t}function DP(t){return t.instantiationMode==="EAGER"}var Bu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Mp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var TP=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),bP={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},CP=ne.INFO,SP={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},AP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=CP,this._logHandler=AP,this._userLogHandler=null,TP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var RP=(t,e)=>e.some(n=>t instanceof n),_D,ID;function xP(){return _D||(_D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MP(){return ID||(ID=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wD=new WeakMap,Pp=new WeakMap,ED=new WeakMap,Np=new WeakMap,kp=new WeakMap;function NP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wD.set(n,t)}).catch(()=>{}),kp.set(e,t),e}function PP(t){if(Pp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pp.set(t,e)}var Op={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ED.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DD(t){Op=t(Op)}function OP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call($u(this),e,...n);return ED.set(r,e.sort?e.sort():[e]),on(r)}:MP().includes(t)?function(...e){return t.apply($u(this),e),on(wD.get(this))}:function(...e){return on(t.apply($u(this),e))}}function kP(t){return typeof t=="function"?OP(t):(t instanceof IDBTransaction&&PP(t),RP(t,xP())?new Proxy(t,Op):t)}function on(t){if(t instanceof IDBRequest)return NP(t);if(Np.has(t))return Np.get(t);let e=kP(t);return e!==t&&(Np.set(t,e),kp.set(e,t)),e}var $u=t=>kp.get(t);function bD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=on(o);return r&&o.addEventListener("upgradeneeded",u=>{r(on(o.result),u.oldVersion,u.newVersion,on(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var FP=["get","getKey","getAll","getAllKeys","count"],LP=["put","add","delete","clear"],Fp=new Map;function TD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FP.includes(n)))return;let s=function(o,...c){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Fp.set(e,s),s}DD(t=>Te(F({},t),{get:(e,n,r)=>TD(e,n)||t.get(e,n,r),has:(e,n)=>!!TD(e,n)||t.has(e,n)}));var Vp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function VP(t){let e=t.getComponent();return e?.type==="VERSION"}var Up="@firebase/app",CD="0.10.5";var kr=new ir("@firebase/app"),UP="@firebase/app-compat",jP="@firebase/analytics-compat",BP="@firebase/analytics",$P="@firebase/app-check-compat",HP="@firebase/app-check",qP="@firebase/auth",zP="@firebase/auth-compat",GP="@firebase/database",WP="@firebase/database-compat",KP="@firebase/functions",QP="@firebase/functions-compat",YP="@firebase/installations",JP="@firebase/installations-compat",ZP="@firebase/messaging",XP="@firebase/messaging-compat",eO="@firebase/performance",tO="@firebase/performance-compat",nO="@firebase/remote-config",rO="@firebase/remote-config-compat",iO="@firebase/storage",sO="@firebase/storage-compat",oO="@firebase/firestore",aO="@firebase/vertexai-preview",cO="@firebase/firestore-compat",uO="firebase",lO="10.12.2";var jp="[DEFAULT]",dO={[Up]:"fire-core",[UP]:"fire-core-compat",[BP]:"fire-analytics",[jP]:"fire-analytics-compat",[HP]:"fire-app-check",[$P]:"fire-app-check-compat",[qP]:"fire-auth",[zP]:"fire-auth-compat",[GP]:"fire-rtdb",[WP]:"fire-rtdb-compat",[KP]:"fire-fn",[QP]:"fire-fn-compat",[YP]:"fire-iid",[JP]:"fire-iid-compat",[ZP]:"fire-fcm",[XP]:"fire-fcm-compat",[eO]:"fire-perf",[tO]:"fire-perf-compat",[nO]:"fire-rc",[rO]:"fire-rc-compat",[iO]:"fire-gcs",[sO]:"fire-gcs-compat",[oO]:"fire-fst",[cO]:"fire-fst-compat",[aO]:"fire-vertex","fire-js":"fire-js",[uO]:"fire-js-all"};var Go=new Map,hO=new Map,Bp=new Map;function SD(t,e){try{t.container.addComponent(e)}catch(n){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function or(t){let e=t.name;if(Bp.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,t);for(let n of Go.values())SD(n,t);for(let n of hO.values())SD(n,t);return!0}function zp(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wi(t){return t.settings!==void 0}var fO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Sn("app","Firebase",fO);var $p=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}};var Ki=lO;function Gp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=Ap()),!n)throw sr.create("no-options");let s=Go.get(i);if(s){if(Gi(n,s.options)&&Gi(r,s.config))return s;throw sr.create("duplicate-app",{appName:i})}let o=new Bu(i);for(let u of Bp.values())o.addComponent(u);let c=new $p(n,r,o);return Go.set(i,c),c}function Ko(t=jp){let e=Go.get(t);if(!e&&t===jp&&Ap())return Gp();if(!e)throw sr.create("no-app",{appName:t});return e}function Hu(){return Array.from(Go.values())}function He(t,e,n){var r;let i=(r=dO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(c.join(" "));return}or(new xt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var pO="firebase-heartbeat-database",gO=1,Wo="firebase-heartbeat-store",Lp=null;function MD(){return Lp||(Lp=bD(pO,gO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),Lp}function mO(t){return S(this,null,function*(){try{let n=(yield MD()).transaction(Wo),r=yield n.objectStore(Wo).get(ND(t));return yield n.done,r}catch(e){if(e instanceof Rt)kr.warn(e.message);else{let n=sr.create("idb-get",{originalErrorMessage:e?.message});kr.warn(n.message)}}})}function AD(t,e){return S(this,null,function*(){try{let r=(yield MD()).transaction(Wo,"readwrite");yield r.objectStore(Wo).put(e,ND(t)),yield r.done}catch(n){if(n instanceof Rt)kr.warn(n.message);else{let r=sr.create("idb-set",{originalErrorMessage:n?.message});kr.warn(r.message)}}})}function ND(t){return`${t.name}!${t.options.appId}`}var yO=1024,vO=30*24*60*60*1e3,Hp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=RD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=vO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return S(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RD(),{heartbeatsToSend:r,unsentEntries:i}=_O(this._heartbeatsCache.heartbeats),s=zo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function RD(){return new Date().toISOString().substring(0,10)}function _O(t,e=yO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var qp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Rp()?yD().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield mO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xD(t){return zo(JSON.stringify({version:2,heartbeats:t})).length}function IO(t){or(new xt("platform-logger",e=>new Vp(e),"PRIVATE")),or(new xt("heartbeat",e=>new Hp(e),"PRIVATE")),He(Up,CD,t),He(Up,CD,"esm2017"),He("fire-js","")}IO("");var wO="firebase",EO="10.12.2";He(wO,EO,"app");var Yi=new Gn("ANGULARFIRE2_VERSION");function Kp(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Yo=(t,e)=>{let n=e?[e]:Hu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Qo=class{constructor(){return Yo(DO)}},DO="app-check";function Qi(){}var qu=class{zone;delegate;constructor(e,n=Sd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Wp=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi)),n.pipe(Le({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qu(Zone.current)),this.insideAngular=n.run(()=>new qu(Zone.current,Cd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(ye))};static \u0275prov=V({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function TO(t){return zu().ngZone.runOutsideAngular(()=>t())}function Fr(t){return zu().ngZone.run(()=>t())}function bO(t){return CO(zu())(t)}function CO(t){return function(n){return n=n.lift(new Wp(t.ngZone)),n.pipe(Vn(t.outsideAngular),Ln(t.insideAngular))}}var SO=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fr(()=>t.apply(void 0,r))},Ji=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qi,{},Qi,Qi))),r[s]=SO(r[s],n));let i=TO(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=zu();return i.pipe(Vn(s.outsideAngular),Ln(s.insideAngular))}else return Fr(()=>i);return i instanceof ie?i.pipe(bO):i instanceof Promise?Fr(()=>new Promise((s,o)=>i.then(c=>Fr(()=>s(c)),c=>Fr(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Fr(()=>i)};var Lr=class{constructor(e){return e}},Zo=class{constructor(){return Hu()}};function AO(t){return t&&t.length===1?t[0]:new Lr(Ko())}var Qp=new W("angularfire2._apps"),RO={provide:Lr,useFactory:AO,deps:[[new wt,Qp]]},xO={provide:Zo,deps:[[new wt,Qp]]};function MO(t){return(e,n)=>{let r=n.get(tn);He("angularfire",Yi.full,"core"),He("angularfire",Yi.full,"app"),He("angular",Bw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Lr(i)}}function PD(t,...e){return Wn([RO,xO,{provide:Qp,useFactory:MO(t),multi:!0,deps:[ye,bt,Jo,...e]}])}var OD=Ji(Gp,!0);function $D(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HD=$D,qD=new Sn("auth","Firebase",$D());var Qu=new ir("@firebase/auth");function PO(t,...e){Qu.logLevel<=ne.WARN&&Qu.warn(`Auth (${Ki}): ${t}`,...e)}function Wu(t,...e){Qu.logLevel<=ne.ERROR&&Qu.error(`Auth (${Ki}): ${t}`,...e)}function kD(t,...e){throw ag(t,...e)}function og(t,...e){return ag(t,...e)}function zD(t,e,n){let r=Object.assign(Object.assign({},HD()),{[e]:n});return new Sn("auth","Firebase",r).create(e,{appName:t.name})}function Ku(t){return zD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qD.create(t,...e)}function pe(t,e,...n){if(!t)throw ag(e,...n)}function Xo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Wu(e),new Error(e)}function Yu(t,e){t||Xo(e)}function OO(){return FD()==="http:"||FD()==="https:"}function FD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function kO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OO()||pD()||"connection"in navigator)?navigator.onLine:!0}function FO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ur=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yu(n>e,"Short delay should be less than long delay!"),this.isMobile=fD()||gD()}get(){return kO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function LO(t,e){Yu(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ju=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var VO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var UO=new Ur(3e4,6e4);function GD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tl(s,o,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return WD(t,i,()=>S(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=xp(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),Ju.fetch()(KD(t,t.config.apiHost,n,g),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},l))}))})}function WD(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},VO),e);try{let i=new Zp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Gu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Gu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Gu(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw zD(t,f,l);kD(t,f)}}catch(i){if(i instanceof Rt)throw i;kD(t,"network-request-failed",{message:String(i)})}})}function KD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?LO(t.config,i):`${t.config.apiScheme}://${i}`}var Zp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(og(this.auth,"network-request-failed")),UO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=og(t,e,r);return i.customData._tokenResponse=n,i}function jO(t,e){return S(this,null,function*(){return tl(t,"POST","/v1/accounts:delete",e)})}function QD(t,e){return S(this,null,function*(){return tl(t,"POST","/v1/accounts:lookup",e)})}function ea(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cg(t,e=!1){return S(this,null,function*(){let n=rr(t),r=yield n.getIdToken(e),i=YD(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ea(Yp(i.auth_time)),issuedAtTime:ea(Yp(i.iat)),expirationTime:ea(Yp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Yp(t){return Number(t)*1e3}function YD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sp(n);return i?JSON.parse(i):(Wu("Failed to decode base64 JWT payload"),null)}catch(i){return Wu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LD(t){let e=YD(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xp(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&BO(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function BO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var eg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var na=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zu(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Xp(t,QD(n,{idToken:r}));pe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JD(s.providerUserInfo):[],c=$O(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new na(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function ug(t){return S(this,null,function*(){let e=rr(t);yield Zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function $O(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JD(t){return t.map(e=>{var{providerId:n}=e,r=Ad(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function HO(t,e){return S(this,null,function*(){let n=yield WD(t,{},()=>S(this,null,function*(){let r=xp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KD(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ju.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qO(t,e){return S(this,null,function*(){return tl(t,"POST","/v2/accounts:revokeToken",GD(t,e))})}var ta=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let n=LD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield HO(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Xo("not implemented")}};function ar(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ra=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ad(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new na(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield Xp(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return cg(this,e)}reload(){return ug(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Wi(this.auth.app))return Promise.reject(Ku(this.auth));let e=yield this.getIdToken();return yield Xp(this,jO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Z=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:q,emailVerified:re,isAnonymous:Ce,providerData:Q,stsTokenManager:w}=n;pe(q&&w,e,"internal-error");let m=ta.fromJSON(this.name,w);pe(typeof q=="string",e,"internal-error"),ar(g,e.name),ar(y,e.name),pe(typeof re=="boolean",e,"internal-error"),pe(typeof Ce=="boolean",e,"internal-error"),ar(T,e.name),ar(A,e.name),ar(x,e.name),ar(R,e.name),ar(L,e.name),ar(Z,e.name);let v=new t({uid:q,auth:e,email:y,emailVerified:re,displayName:g,isAnonymous:Ce,photoURL:A,phoneNumber:T,tenantId:x,stsTokenManager:m,createdAt:L,lastLoginAt:Z});return Q&&Array.isArray(Q)&&(v.providerData=Q.map(I=>Object.assign({},I))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new ta;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];pe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?JD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new ta;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new na(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var VD=new Map;function Vr(t){Yu(t instanceof Function,"Expected a class definition");let e=VD.get(t);return e?(Yu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VD.set(t,e),e)}var zO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),tg=zO;function Jp(t,e,n){return`firebase:${t}:${e}:${n}`}var Xu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Jp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ra._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Vr(tg),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Vr(tg),o=Jp(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let g=ra._fromJSON(e,f);l!==s&&(c=g),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function UD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JO(e))return"Blackberry";if(ZO(e))return"Webos";if(WO(e))return"Safari";if((e.includes("chrome/")||KO(e))&&!e.includes("edge/"))return"Chrome";if(YO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GO(t=mt()){return/firefox\//i.test(t)}function WO(t=mt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KO(t=mt()){return/crios\//i.test(t)}function QO(t=mt()){return/iemobile/i.test(t)}function YO(t=mt()){return/android/i.test(t)}function JO(t=mt()){return/blackberry/i.test(t)}function ZO(t=mt()){return/webos/i.test(t)}function ZD(t,e=[]){let n;switch(t){case"Browser":n=UD(mt());break;case"Worker":n=`${UD(mt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ki}/${r}`}var ng=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function XO(n){return S(this,arguments,function*(t,e={}){return tl(t,"GET","/v2/passwordPolicy",GD(t,e))})}var ek=6,rg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ek,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ig=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new el(this),this.idTokenSubscription=new el(this),this.beforeStateQueue=new ng(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Xu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield QD(this,{idToken:e}),r=yield ra._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(Wi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Zu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=FO()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Wi(this.app))return Promise.reject(Ku(this));let n=e?rr(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Wi(this.app)?Promise.reject(Ku(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Wi(this.app)?Promise.reject(Ku(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Vr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield XO(this),n=new rg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Vr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=yield Xu.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&PO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function tk(t){return rr(t)}var el=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vD(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nk={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rk(t){nk=t}function ik(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function sk(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Aq=ik("rcb"),Rq=new Ur(3e4,6e4);var xq=new Ur(2e3,1e4);var Mq=10*60*1e3;var Nq=new Ur(3e4,6e4);var Pq=new Ur(5e3,15e3);var Oq=encodeURIComponent("fac");var jD="@firebase/auth",BD="1.7.4";var sg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ok(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ak(t){or(new xt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZD(t)},l=new ig(r,i,s,u);return sk(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),or(new xt("auth-internal",e=>{let n=tk(e.getProvider("auth").getImmediate());return(r=>new sg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(jD,BD,ok(t)),He(jD,BD,"esm2017")}var ck=5*60,kq=dD("authIdTokenMaxAge")||ck;function uk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rk({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=og("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ak("Browser");var c1="auth";var nl=class{constructor(){return Yo(c1)}};var XD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eT={};var cr,lg;(function(){var t;function e(w,m){function v(){}v.prototype=m.prototype,w.D=m.prototype,w.prototype=new v,w.prototype.constructor=w,w.C=function(I,E,b){for(var _=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)_[hn-2]=arguments[hn];return m.prototype[E].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,m,v){v||(v=0);var I=Array(16);if(typeof m=="string")for(var E=0;16>E;++E)I[E]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(E=0;16>E;++E)I[E]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=w.g[0],v=w.g[1],E=w.g[2];var b=w.g[3],_=m+(b^v&(E^b))+I[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=b+(E^m&(v^E))+I[1]+3905402710&4294967295,b=m+(_<<12&4294967295|_>>>20),_=E+(v^b&(m^v))+I[2]+606105819&4294967295,E=b+(_<<17&4294967295|_>>>15),_=v+(m^E&(b^m))+I[3]+3250441966&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(b^v&(E^b))+I[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(E^m&(v^E))+I[5]+1200080426&4294967295,b=m+(_<<12&4294967295|_>>>20),_=E+(v^b&(m^v))+I[6]+2821735955&4294967295,E=b+(_<<17&4294967295|_>>>15),_=v+(m^E&(b^m))+I[7]+4249261313&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(b^v&(E^b))+I[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(E^m&(v^E))+I[9]+2336552879&4294967295,b=m+(_<<12&4294967295|_>>>20),_=E+(v^b&(m^v))+I[10]+4294925233&4294967295,E=b+(_<<17&4294967295|_>>>15),_=v+(m^E&(b^m))+I[11]+2304563134&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(b^v&(E^b))+I[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=b+(E^m&(v^E))+I[13]+4254626195&4294967295,b=m+(_<<12&4294967295|_>>>20),_=E+(v^b&(m^v))+I[14]+2792965006&4294967295,E=b+(_<<17&4294967295|_>>>15),_=v+(m^E&(b^m))+I[15]+1236535329&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(E^b&(v^E))+I[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^E&(m^v))+I[6]+3225465664&4294967295,b=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(b^m))+I[11]+643717713&4294967295,E=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(E^b))+I[0]+3921069994&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(E^b&(v^E))+I[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^E&(m^v))+I[10]+38016083&4294967295,b=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(b^m))+I[15]+3634488961&4294967295,E=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(E^b))+I[4]+3889429448&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(E^b&(v^E))+I[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^E&(m^v))+I[14]+3275163606&4294967295,b=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(b^m))+I[3]+4107603335&4294967295,E=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(E^b))+I[8]+1163531501&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(E^b&(v^E))+I[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=b+(v^E&(m^v))+I[2]+4243563512&4294967295,b=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(b^m))+I[7]+1735328473&4294967295,E=b+(_<<14&4294967295|_>>>18),_=v+(b^m&(E^b))+I[12]+2368359562&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(v^E^b)+I[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^E)+I[8]+2272392833&4294967295,b=m+(_<<11&4294967295|_>>>21),_=E+(b^m^v)+I[11]+1839030562&4294967295,E=b+(_<<16&4294967295|_>>>16),_=v+(E^b^m)+I[14]+4259657740&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(v^E^b)+I[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^E)+I[4]+1272893353&4294967295,b=m+(_<<11&4294967295|_>>>21),_=E+(b^m^v)+I[7]+4139469664&4294967295,E=b+(_<<16&4294967295|_>>>16),_=v+(E^b^m)+I[10]+3200236656&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(v^E^b)+I[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^E)+I[0]+3936430074&4294967295,b=m+(_<<11&4294967295|_>>>21),_=E+(b^m^v)+I[3]+3572445317&4294967295,E=b+(_<<16&4294967295|_>>>16),_=v+(E^b^m)+I[6]+76029189&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(v^E^b)+I[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=b+(m^v^E)+I[12]+3873151461&4294967295,b=m+(_<<11&4294967295|_>>>21),_=E+(b^m^v)+I[15]+530742520&4294967295,E=b+(_<<16&4294967295|_>>>16),_=v+(E^b^m)+I[2]+3299628645&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(E^(v|~b))+I[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~E))+I[7]+1126891415&4294967295,b=m+(_<<10&4294967295|_>>>22),_=E+(m^(b|~v))+I[14]+2878612391&4294967295,E=b+(_<<15&4294967295|_>>>17),_=v+(b^(E|~m))+I[5]+4237533241&4294967295,v=E+(_<<21&4294967295|_>>>11),_=m+(E^(v|~b))+I[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~E))+I[3]+2399980690&4294967295,b=m+(_<<10&4294967295|_>>>22),_=E+(m^(b|~v))+I[10]+4293915773&4294967295,E=b+(_<<15&4294967295|_>>>17),_=v+(b^(E|~m))+I[1]+2240044497&4294967295,v=E+(_<<21&4294967295|_>>>11),_=m+(E^(v|~b))+I[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~E))+I[15]+4264355552&4294967295,b=m+(_<<10&4294967295|_>>>22),_=E+(m^(b|~v))+I[6]+2734768916&4294967295,E=b+(_<<15&4294967295|_>>>17),_=v+(b^(E|~m))+I[13]+1309151649&4294967295,v=E+(_<<21&4294967295|_>>>11),_=m+(E^(v|~b))+I[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=b+(v^(m|~E))+I[11]+3174756917&4294967295,b=m+(_<<10&4294967295|_>>>22),_=E+(m^(b|~v))+I[2]+718787259&4294967295,E=b+(_<<15&4294967295|_>>>17),_=v+(b^(E|~m))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+m&4294967295,w.g[1]=w.g[1]+(E+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+E&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,m){m===void 0&&(m=w.length);for(var v=m-this.blockSize,I=this.B,E=this.h,b=0;b<m;){if(E==0)for(;b<=v;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<m;)if(I[E++]=w.charCodeAt(b++),E==this.blockSize){i(this,I),E=0;break}}else for(;b<m;)if(I[E++]=w[b++],E==this.blockSize){i(this,I),E=0;break}}this.h=E,this.o+=m},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var m=1;m<w.length-8;++m)w[m]=0;var v=8*this.o;for(m=w.length-8;m<w.length;++m)w[m]=v&255,v/=256;for(this.u(w),w=Array(16),m=v=0;4>m;++m)for(var I=0;32>I;I+=8)w[v++]=this.g[m]>>>I&255;return w};function s(w,m){var v=c;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=m(w)}function o(w,m){this.h=m;for(var v=[],I=!0,E=w.length-1;0<=E;E--){var b=w[E]|0;I&&b==m||(v[E]=b,I=!1)}this.g=v}var c={};function u(w){return-128<=w&&128>w?s(w,function(m){return new o([m|0],0>m?-1:0)}):new o([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return g;if(0>w)return R(l(-w));for(var m=[],v=1,I=0;w>=v;I++)m[I]=w/v|0,v*=4294967296;return new o(m,0)}function f(w,m){if(w.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(w.charAt(0)=="-")return R(f(w.substring(1),m));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),I=g,E=0;E<w.length;E+=8){var b=Math.min(8,w.length-E),_=parseInt(w.substring(E,E+b),m);8>b?(b=l(Math.pow(m,b)),I=I.j(b).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var g=u(0),y=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-R(this).m();for(var w=0,m=1,v=0;v<this.g.length;v++){var I=this.i(v);w+=(0<=I?I:4294967296+I)*m,m*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(x(this))return"-"+R(this).toString(w);for(var m=l(Math.pow(w,6)),v=this,I="";;){var E=re(v,m).g;v=L(v,E.j(m));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(w);if(v=E,A(v))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var m=0;m<w.g.length;m++)if(w.g[m]!=0)return!1;return!0}function x(w){return w.h==-1}t.l=function(w){return w=L(this,w),x(w)?-1:A(w)?0:1};function R(w){for(var m=w.g.length,v=[],I=0;I<m;I++)v[I]=~w.g[I];return new o(v,~w.h).add(y)}t.abs=function(){return x(this)?R(this):this},t.add=function(w){for(var m=Math.max(this.g.length,w.g.length),v=[],I=0,E=0;E<=m;E++){var b=I+(this.i(E)&65535)+(w.i(E)&65535),_=(b>>>16)+(this.i(E)>>>16)+(w.i(E)>>>16);I=_>>>16,b&=65535,_&=65535,v[E]=_<<16|b}return new o(v,v[v.length-1]&-2147483648?-1:0)};function L(w,m){return w.add(R(m))}t.j=function(w){if(A(this)||A(w))return g;if(x(this))return x(w)?R(this).j(R(w)):R(R(this).j(w));if(x(w))return R(this.j(R(w)));if(0>this.l(T)&&0>w.l(T))return l(this.m()*w.m());for(var m=this.g.length+w.g.length,v=[],I=0;I<2*m;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var E=0;E<w.g.length;E++){var b=this.i(I)>>>16,_=this.i(I)&65535,hn=w.i(E)>>>16,ws=w.i(E)&65535;v[2*I+2*E]+=_*ws,Z(v,2*I+2*E),v[2*I+2*E+1]+=b*ws,Z(v,2*I+2*E+1),v[2*I+2*E+1]+=_*hn,Z(v,2*I+2*E+1),v[2*I+2*E+2]+=b*hn,Z(v,2*I+2*E+2)}for(I=0;I<m;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=m;I<2*m;I++)v[I]=0;return new o(v,0)};function Z(w,m){for(;(w[m]&65535)!=w[m];)w[m+1]+=w[m]>>>16,w[m]&=65535,m++}function q(w,m){this.g=w,this.h=m}function re(w,m){if(A(m))throw Error("division by zero");if(A(w))return new q(g,g);if(x(w))return m=re(R(w),m),new q(R(m.g),R(m.h));if(x(m))return m=re(w,R(m)),new q(R(m.g),m.h);if(30<w.g.length){if(x(w)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,I=m;0>=I.l(w);)v=Ce(v),I=Ce(I);var E=Q(v,1),b=Q(I,1);for(I=Q(I,2),v=Q(v,2);!A(I);){var _=b.add(I);0>=_.l(w)&&(E=E.add(v),b=_),I=Q(I,1),v=Q(v,1)}return m=L(w,E.j(m)),new q(E,m)}for(E=g;0<=w.l(m);){for(v=Math.max(1,Math.floor(w.m()/m.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(v),_=b.j(m);x(_)||0<_.l(w);)v-=I,b=l(v),_=b.j(m);A(b)&&(b=y),E=E.add(b),w=L(w,_)}return new q(E,w)}t.A=function(w){return re(this,w).h},t.and=function(w){for(var m=Math.max(this.g.length,w.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)&w.i(I);return new o(v,this.h&w.h)},t.or=function(w){for(var m=Math.max(this.g.length,w.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)|w.i(I);return new o(v,this.h|w.h)},t.xor=function(w){for(var m=Math.max(this.g.length,w.g.length),v=[],I=0;I<m;I++)v[I]=this.i(I)^w.i(I);return new o(v,this.h^w.h)};function Ce(w){for(var m=w.g.length+1,v=[],I=0;I<m;I++)v[I]=w.i(I)<<1|w.i(I-1)>>>31;return new o(v,w.h)}function Q(w,m){var v=m>>5;m%=32;for(var I=w.g.length-v,E=[],b=0;b<I;b++)E[b]=0<m?w.i(b+v)>>>m|w.i(b+v+1)<<32-m:w.i(b+v);return new o(E,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lg=eT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,cr=eT.Integer=o}).apply(typeof XD<"u"?XD:typeof self<"u"?self:typeof window<"u"?window:{});var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={};var dg,hg,Zi,fg,ia,il,pg,gg,mg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof rl=="object"&&rl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var D=a[p];if(!(D in h))break e;h=h[D]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,D={next:function(){if(!p&&h<a.length){var C=h++;return{value:d(C,a[C]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,y.apply(null,arguments)}function T(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,D,C){for(var P=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)P[_e-2]=arguments[_e];return d.prototype[D].apply(p,P)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let D=a.length||0,C=p.length||0;a.length=D+C;for(let P=0;P<C;P++)a[D+P]=p[P]}else a.push(p)}}class L{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(a){return/^[\s\xa0]*$/.test(a)}function q(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function re(a){return re[" "](a),a}re[" "]=function(){};var Ce=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function Q(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(h in p)a[h]=p[h];for(let C=0;C<v.length;C++)h=v[C],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function E(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Hl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class hn{constructor(){this.h=this.g=null}add(d,h){let p=ws.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ws=new L(()=>new Nb,a=>a.reset());class Nb{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Es,Ds=!1,Hl=new hn,fy=()=>{let a=c.Promise.resolve(void 0);Es=()=>{a.then(Pb)}};var Pb=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=ws;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ds=!1};function Nn(){this.s=this.s,this.C=this.C}Nn.prototype.s=!1,Nn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ke(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ke.prototype.h=function(){this.defaultPrevented=!0};var Ob=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Ts(a,d){if(Ke.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ce){e:{try{re(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:kb[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ts.aa.h.call(this)}}A(Ts,Ke);var kb={2:"touch",3:"pen",4:"mouse"};Ts.prototype.h=function(){Ts.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var bs="closure_listenable_"+(1e6*Math.random()|0),Fb=0;function Lb(a,d,h,p,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=D,this.key=++Fb,this.da=this.fa=!1}function Sa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Aa(a){this.src=a,this.g={},this.h=0}Aa.prototype.add=function(a,d,h,p,D){var C=a.toString();a=this.g[C],a||(a=this.g[C]=[],this.h++);var P=zl(a,d,p,D);return-1<P?(d=a[P],h||(d.fa=!1)):(d=new Lb(d,this.src,C,!!p,D),d.fa=h,a.push(d)),d};function ql(a,d){var h=d.type;if(h in a.g){var p=a.g[h],D=Array.prototype.indexOf.call(p,d,void 0),C;(C=0<=D)&&Array.prototype.splice.call(p,D,1),C&&(Sa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function zl(a,d,h,p){for(var D=0;D<a.length;++D){var C=a[D];if(!C.da&&C.listener==d&&C.capture==!!h&&C.ha==p)return D}return-1}var Gl="closure_lm_"+(1e6*Math.random()|0),Wl={};function py(a,d,h,p,D){if(p&&p.once)return my(a,d,h,p,D);if(Array.isArray(d)){for(var C=0;C<d.length;C++)py(a,d[C],h,p,D);return null}return h=Jl(h),a&&a[bs]?a.K(d,h,l(p)?!!p.capture:!!p,D):gy(a,d,h,!1,p,D)}function gy(a,d,h,p,D,C){if(!d)throw Error("Invalid event type");var P=l(D)?!!D.capture:!!D,_e=Ql(a);if(_e||(a[Gl]=_e=new Aa(a)),h=_e.add(d,h,p,P,C),h.proxy)return h;if(p=Vb(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)Ob||(D=P),D===void 0&&(D=!1),a.addEventListener(d.toString(),p,D);else if(a.attachEvent)a.attachEvent(vy(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Vb(){function a(h){return d.call(a.src,a.listener,h)}let d=Ub;return a}function my(a,d,h,p,D){if(Array.isArray(d)){for(var C=0;C<d.length;C++)my(a,d[C],h,p,D);return null}return h=Jl(h),a&&a[bs]?a.L(d,h,l(p)?!!p.capture:!!p,D):gy(a,d,h,!0,p,D)}function yy(a,d,h,p,D){if(Array.isArray(d))for(var C=0;C<d.length;C++)yy(a,d[C],h,p,D);else p=l(p)?!!p.capture:!!p,h=Jl(h),a&&a[bs]?(a=a.i,d=String(d).toString(),d in a.g&&(C=a.g[d],h=zl(C,h,p,D),-1<h&&(Sa(C[h]),Array.prototype.splice.call(C,h,1),C.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ql(a))&&(d=a.g[d.toString()],a=-1,d&&(a=zl(d,h,p,D)),(h=-1<a?d[a]:null)&&Kl(h))}function Kl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[bs])ql(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(vy(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=Ql(d))?(ql(h,a),h.h==0&&(h.src=null,d[Gl]=null)):Sa(a)}}}function vy(a){return a in Wl?Wl[a]:Wl[a]="on"+a}function Ub(a,d){if(a.da)a=!0;else{d=new Ts(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&Kl(a),a=h.call(p,d)}return a}function Ql(a){return a=a[Gl],a instanceof Aa?a:null}var Yl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(a){return typeof a=="function"?a:(a[Yl]||(a[Yl]=function(d){return a.handleEvent(d)}),a[Yl])}function Qe(){Nn.call(this),this.i=new Aa(this),this.M=this,this.F=null}A(Qe,Nn),Qe.prototype[bs]=!0,Qe.prototype.removeEventListener=function(a,d,h,p){yy(this,a,d,h,p)};function nt(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Ke(d,a);else if(d instanceof Ke)d.target=d.target||a;else{var D=d;d=new Ke(p,a),I(d,D)}if(D=!0,h)for(var C=h.length-1;0<=C;C--){var P=d.g=h[C];D=Ra(P,p,!0,d)&&D}if(P=d.g=a,D=Ra(P,p,!0,d)&&D,D=Ra(P,p,!1,d)&&D,h)for(C=0;C<h.length;C++)P=d.g=h[C],D=Ra(P,p,!1,d)&&D}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)Sa(h[p]);delete a.g[d],a.h--}}this.F=null},Qe.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Qe.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function Ra(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,C=0;C<d.length;++C){var P=d[C];if(P&&!P.da&&P.capture==h){var _e=P.listener,ze=P.ha||P.src;P.fa&&ql(a.i,P),D=_e.call(ze,p)!==!1&&D}}return D&&!p.defaultPrevented}function _y(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Iy(a){a.g=_y(()=>{a.g=null,a.i&&(a.i=!1,Iy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class jb extends Nn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Iy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(a){Nn.call(this),this.h=a,this.g={}}A(Cs,Nn);var wy=[];function Ey(a){Q(a.g,function(d,h){this.g.hasOwnProperty(h)&&Kl(d)},a),a.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Ey(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zl=c.JSON.stringify,Bb=c.JSON.parse,$b=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Xl(){}Xl.prototype.h=null;function Dy(a){return a.h||(a.h=a.i())}function Ty(){}var Ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ed(){Ke.call(this,"d")}A(ed,Ke);function td(){Ke.call(this,"c")}A(td,Ke);var fr={},by=null;function xa(){return by=by||new Qe}fr.La="serverreachability";function Cy(a){Ke.call(this,fr.La,a)}A(Cy,Ke);function As(a){let d=xa();nt(d,new Cy(d))}fr.STAT_EVENT="statevent";function Sy(a,d){Ke.call(this,fr.STAT_EVENT,a),this.stat=d}A(Sy,Ke);function rt(a){let d=xa();nt(d,new Sy(d,a))}fr.Ma="timingevent";function Ay(a,d){Ke.call(this,fr.Ma,a),this.size=d}A(Ay,Ke);function Rs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function Hb(a,d,h,p,D,C){a.info(function(){if(a.g)if(C)for(var P="",_e=C.split("&"),ze=0;ze<_e.length;ze++){var de=_e[ze].split("=");if(1<de.length){var Ye=de[0];de=de[1];var Je=Ye.split("_");P=2<=Je.length&&Je[1]=="type"?P+(Ye+"="+de+"&"):P+(Ye+"=redacted&")}}else P=null;else P=C;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+d+`
`+h+`
`+P})}function qb(a,d,h,p,D,C,P){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+d+`
`+h+`
`+C+" "+P})}function Qr(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Gb(a,h)+(p?" "+p:"")})}function zb(a,d){a.info(function(){return"TIMEOUT: "+d})}xs.prototype.info=function(){};function Gb(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var C=D[0];if(C!="noop"&&C!="stop"&&C!="close")for(var P=1;P<D.length;P++)D[P]=""}}}}return Zl(h)}catch{return d}}var Ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ry={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nd;function Na(){}A(Na,Xl),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},nd=new Na;function Pn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var My={},rd={};function id(a,d,h){a.L=1,a.v=Fa(fn(d)),a.m=h,a.P=!0,Ny(a,null)}function Ny(a,d){a.F=Date.now(),Pa(a),a.A=fn(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),Gy(h.i,"t",p),a.C=0,h=a.j.J,a.h=new xy,a.g=lv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new jb(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(wy[0]=D.toString()),D=wy);for(var C=0;C<D.length;C++){var P=py(h,D[C],p||d.handleEvent,!1,d.h||d);if(!P)break;d.g[P.key]=P}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),As(),Hb(a.i,a.u,a.A,a.l,a.R,a.m)}Pn.prototype.ca=function(a){a=a.target;let d=this.M;d&&pn(a)==3?d.j():this.Y(a)},Pn.prototype.Y=function(a){try{if(a==this.g)e:{let Je=pn(this.g);var d=this.g.Ba();let Zr=this.g.Z();if(!(3>Je)&&(Je!=3||this.g&&(this.h.h||this.g.oa()||Xy(this.g)))){this.J||Je!=4||d==7||(d==8||0>=Zr?As(3):As(2)),sd(this);var h=this.g.Z();this.X=h;t:if(Py(this)){var p=Xy(this.g);a="";var D=p.length,C=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Ms(this);var P="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(C&&d==D-1)});p.length=0,this.h.g+=a,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=h==200,qb(this.i,this.u,this.A,this.l,this.R,Je,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,ze=this.g;if((_e=ze.g?ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(_e)){var de=_e;break t}}de=null}if(h=de)Qr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,od(this,h);else{this.o=!1,this.s=3,rt(12),pr(this),Ms(this);break e}}if(this.P){h=!0;let Nt;for(;!this.J&&this.C<P.length;)if(Nt=Wb(this,P),Nt==rd){Je==4&&(this.s=4,rt(14),h=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==My){this.s=4,rt(15),Qr(this.i,this.l,P,"[Invalid Chunk]"),h=!1;break}else Qr(this.i,this.l,Nt,null),od(this,Nt);if(Py(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Je!=4||P.length!=0||this.h.h||(this.s=1,rt(16),h=!1),this.o=this.o&&h,!h)Qr(this.i,this.l,P,"[Invalid Chunked Response]"),pr(this),Ms(this);else if(0<P.length&&!this.W){this.W=!0;var Ye=this.j;Ye.g==this&&Ye.ba&&!Ye.M&&(Ye.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),hd(Ye),Ye.M=!0,rt(11))}}else Qr(this.i,this.l,P,null),od(this,P);Je==4&&pr(this),this.o&&!this.J&&(Je==4?ov(this.j,this):(this.o=!1,Pa(this)))}else lC(this.g),h==400&&0<P.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),pr(this),Ms(this)}}}catch{}finally{}};function Py(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Wb(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?rd:(h=Number(d.substring(h,p)),isNaN(h)?My:(p+=1,p+h>d.length?rd:(d=d.slice(p,p+h),a.C=p+h,d)))}Pn.prototype.cancel=function(){this.J=!0,pr(this)};function Pa(a){a.S=Date.now()+a.I,Oy(a,a.I)}function Oy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Rs(y(a.ba,a),d)}function sd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Pn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(zb(this.i,this.A),this.L!=2&&(As(),rt(17)),pr(this),this.s=2,Ms(this)):Oy(this,this.S-a)};function Ms(a){a.j.G==0||a.J||ov(a.j,a)}function pr(a){sd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Ey(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function od(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||ad(h.h,a))){if(!a.K&&ad(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ba(h),Ua(h);else break e;dd(h),rt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Rs(y(h.Za,h),6e3));if(1>=Ly(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else mr(h,11)}else if((a.K||h.g==a)&&Ba(h),!Z(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let Ye=de[3];Ye!=null&&(h.la=Ye,h.j.info("VER="+h.la));let Je=de[4];Je!=null&&(h.Aa=Je,h.j.info("SVER="+h.Aa));let Zr=de[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(p=1.5*Zr,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Nt=a.g;if(Nt){let Ha=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ha){var C=p.h;C.g||Ha.indexOf("spdy")==-1&&Ha.indexOf("quic")==-1&&Ha.indexOf("h2")==-1||(C.j=C.l,C.g=new Set,C.h&&(cd(C,C.h),C.h=null))}if(p.D){let fd=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;fd&&(p.ya=fd,we(p.I,p.D,fd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var P=a;if(p.qa=uv(p,p.J?p.ia:null,p.W),P.K){Vy(p.h,P);var _e=P,ze=p.L;ze&&(_e.I=ze),_e.B&&(sd(_e),Pa(_e)),p.g=P}else iv(p);0<h.i.length&&ja(h)}else de[0]!="stop"&&de[0]!="close"||mr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?mr(h,7):ld(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}As(4)}catch{}}var Kb=class{constructor(a,d){this.g=a,this.map=d}};function ky(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ly(a){return a.h?1:a.g?a.g.size:0}function ad(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function cd(a,d){a.g?a.g.add(d):a.h=d}function Vy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ky.prototype.cancel=function(){if(this.i=Uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Uy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function Qb(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function Yb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function jy(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=Yb(a),p=Qb(a),D=p.length,C=0;C<D;C++)d.call(void 0,p[C],h&&h[C],a)}var By=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jb(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),D=null;if(0<=p){var C=a[h].substring(0,p);D=a[h].substring(p+1)}else C=a[h];d(C,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gr){this.h=a.h,Oa(this,a.j),this.o=a.o,this.g=a.g,ka(this,a.s),this.l=a.l;var d=a.i,h=new Os;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),$y(this,h),this.m=a.m}else a&&(d=String(a).match(By))?(this.h=!1,Oa(this,d[1]||"",!0),this.o=Ns(d[2]||""),this.g=Ns(d[3]||"",!0),ka(this,d[4]),this.l=Ns(d[5]||"",!0),$y(this,d[6]||"",!0),this.m=Ns(d[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}gr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ps(d,Hy,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ps(d,Hy,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ps(h,h.charAt(0)=="/"?eC:Xb,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ps(h,nC)),a.join("")};function fn(a){return new gr(a)}function Oa(a,d,h){a.j=h?Ns(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ka(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function $y(a,d,h){d instanceof Os?(a.i=d,rC(a.i,a.h)):(h||(d=Ps(d,tC)),a.i=new Os(d,a.h))}function we(a,d,h){a.i.set(d,h)}function Fa(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ns(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ps(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,Zb),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Zb(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Hy=/[#\/\?@]/g,Xb=/[#\?:]/g,eC=/[#\?]/g,tC=/[#\?@]/g,nC=/#/g;function Os(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function On(a){a.g||(a.g=new Map,a.h=0,a.i&&Jb(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Os.prototype,t.add=function(a,d){On(this),this.i=null,a=Yr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function qy(a,d){On(a),d=Yr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function zy(a,d){return On(a),d=Yr(a,d),a.g.has(d)}t.forEach=function(a,d){On(this),this.g.forEach(function(h,p){h.forEach(function(D){a.call(d,D,p,this)},this)},this)},t.na=function(){On(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let D=a[p];for(let C=0;C<D.length;C++)h.push(d[p])}return h},t.V=function(a){On(this);let d=[];if(typeof a=="string")zy(this,a)&&(d=d.concat(this.g.get(Yr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return On(this),this.i=null,a=Yr(this,a),zy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Gy(a,d,h){qy(a,d),0<h.length&&(a.i=null,a.g.set(Yr(a,d),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let C=encodeURIComponent(String(p)),P=this.V(p);for(p=0;p<P.length;p++){var D=C;P[p]!==""&&(D+="="+encodeURIComponent(String(P[p]))),a.push(D)}}return this.i=a.join("&")};function Yr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function rC(a,d){d&&!a.j&&(On(a),a.i=null,a.g.forEach(function(h,p){var D=p.toLowerCase();p!=D&&(qy(this,p),Gy(this,D,h))},a)),a.j=d}function iC(a,d){let h=new xs;if(c.Image){let p=new Image;p.onload=T(kn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=T(kn,h,"TestLoadImage: error",!1,d,p),p.onabort=T(kn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=T(kn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function sC(a,d){let h=new xs,p=new AbortController,D=setTimeout(()=>{p.abort(),kn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(C=>{clearTimeout(D),C.ok?kn(h,"TestPingServer: ok",!0,d):kn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),kn(h,"TestPingServer: error",!1,d)})}function kn(a,d,h,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(h)}catch{}}function oC(){this.g=new $b}function aC(a,d,h){let p=h||"";try{jy(a,function(D,C){let P=D;l(D)&&(P=Zl(D)),d.push(p+C+"="+encodeURIComponent(P))})}catch(D){throw d.push(p+"type="+encodeURIComponent("_badmap")),D}}function ks(a){this.l=a.Ub||null,this.j=a.eb||!1}A(ks,Xl),ks.prototype.g=function(){return new La(this.l,this.j)},ks.prototype.i=function(a){return function(){return a}}({});function La(a,d){Qe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(La,Qe),t=La.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ls(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ls(this)),this.g&&(this.readyState=3,Ls(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Fs(this):Ls(this),this.readyState==3&&Wy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Fs(this))},t.Qa=function(a){this.g&&(this.response=a,Fs(this))},t.ga=function(){this.g&&Fs(this)};function Fs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ls(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ls(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(La.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ky(a){let d="";return Q(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function ud(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=Ky(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):we(a,d,h))}function Se(a){Qe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Se,Qe);var cC=/^https?$/i,uC=["POST","PUT"];t=Se.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nd.g(),this.v=this.o?Dy(this.o):Dy(nd),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(C){Qy(this,C);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)h.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let C of p.keys())h.set(C,p.get(C));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(C=>C.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uC,d,void 0))||p||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[C,P]of h)this.g.setRequestHeader(C,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zy(this),this.u=!0,this.g.send(a),this.u=!1}catch(C){Qy(this,C)}};function Qy(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Yy(a),Va(a)}function Yy(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Jy(this):this.bb())},t.bb=function(){Jy(this)};function Jy(a){if(a.h&&typeof o<"u"&&(!a.v[1]||pn(a)!=4||a.Z()!=2)){if(a.u&&pn(a)==4)_y(a.Ea,0,a);else if(nt(a,"readystatechange"),pn(a)==4){a.h=!1;try{let P=a.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=P===0){var D=String(a.D).match(By)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),p=!cC.test(D?D.toLowerCase():"")}h=p}if(h)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var C=2<pn(a)?a.g.statusText:""}catch{C=""}a.l=C+" ["+a.Z()+"]",Yy(a)}}finally{Va(a)}}}}function Va(a,d){if(a.g){Zy(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{h.onreadystatechange=p}catch{}}}function Zy(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function pn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Bb(d)}};function Xy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lC(a){let d={};a=(a.g&&2<=pn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(Z(a[p]))continue;var h=E(a[p]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let C=d[D]||[];d[D]=C,C.push(h)}w(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function ev(a){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,a),this.cb=Vs("retryDelaySeedMs",1e4,a),this.Wa=Vs("forwardChannelMaxRetries",2,a),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ky(a&&a.concurrentRequestLimit),this.Da=new oC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ev.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){rt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=uv(this,null,this.W),ja(this)};function ld(a){if(tv(a),a.G==3){var d=a.U++,h=fn(a.I);if(we(h,"SID",a.K),we(h,"RID",d),we(h,"TYPE","terminate"),Us(a,h),d=new Pn(a,a.j,d),d.L=2,d.v=Fa(fn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=lv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pa(d)}cv(a)}function Ua(a){a.g&&(hd(a),a.g.cancel(),a.g=null)}function tv(a){Ua(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ba(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ja(a){if(!Fy(a.h)&&!a.s){a.s=!0;var d=a.Ga;Es||fy(),Ds||(Es(),Ds=!0),Hl.add(d,a),a.B=0}}function dC(a,d){return Ly(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Rs(y(a.Ga,a,d),av(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Pn(this,this.j,a),C=this.o;if(this.S&&(C?(C=m(C),I(C,this.S)):C=this.S),this.m!==null||this.O||(D.H=C,C=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=rv(this,D,d),h=fn(this.I),we(h,"RID",a),we(h,"CVER",22),this.D&&we(h,"X-HTTP-Session-Id",this.D),Us(this,h),C&&(this.O?d="headers="+encodeURIComponent(String(Ky(C)))+"&"+d:this.m&&ud(h,this.m,C)),cd(this.h,D),this.Ua&&we(h,"TYPE","init"),this.P?(we(h,"$req",d),we(h,"SID","null"),D.T=!0,id(D,h,null)):id(D,h,d),this.G=2}}else this.G==3&&(a?nv(this,a):this.i.length==0||Fy(this.h)||nv(this))};function nv(a,d){var h;d?h=d.l:h=a.U++;let p=fn(a.I);we(p,"SID",a.K),we(p,"RID",h),we(p,"AID",a.T),Us(a,p),a.m&&a.o&&ud(p,a.m,a.o),h=new Pn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=rv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),cd(a.h,h),id(h,p,d)}function Us(a,d){a.H&&Q(a.H,function(h,p){we(d,p,h)}),a.l&&jy({},function(h,p){we(d,p,h)})}function rv(a,d,h){h=Math.min(a.i.length,h);var p=a.l?y(a.l.Na,a.l,a):null;e:{var D=a.i;let C=-1;for(;;){let P=["count="+h];C==-1?0<h?(C=D[0].g,P.push("ofs="+C)):C=0:P.push("ofs="+C);let _e=!0;for(let ze=0;ze<h;ze++){let de=D[ze].g,Ye=D[ze].map;if(de-=C,0>de)C=Math.max(0,D[ze].g-100),_e=!1;else try{aC(Ye,P,"req"+de+"_")}catch{p&&p(Ye)}}if(_e){p=P.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function iv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Es||fy(),Ds||(Es(),Ds=!0),Hl.add(d,a),a.v=0}}function dd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Rs(y(a.Fa,a),av(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,sv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Rs(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ua(this),sv(this))};function hd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function sv(a){a.g=new Pn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=fn(a.qa);we(d,"RID","rpc"),we(d,"SID",a.K),we(d,"AID",a.T),we(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(d,"TO",a.ja),we(d,"TYPE","xmlhttp"),Us(a,d),a.m&&a.o&&ud(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Fa(fn(d)),h.m=null,h.P=!0,Ny(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ua(this),dd(this),rt(19))};function Ba(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function ov(a,d){var h=null;if(a.g==d){Ba(a),hd(a),a.g=null;var p=2}else if(ad(a.h,d))h=d.D,Vy(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;p=xa(),nt(p,new Ay(p,h)),ja(a)}else iv(a);else if(D=d.s,D==3||D==0&&0<d.X||!(p==1&&dC(a,d)||p==2&&dd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:mr(a,5);break;case 4:mr(a,10);break;case 3:mr(a,6);break;default:mr(a,2)}}}function av(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function mr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),p=a.Xa;let D=!p;p=new gr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Oa(p,"https"),Fa(p),D?iC(p.toString(),h):sC(p.toString(),h)}else rt(2);a.G=0,a.l&&a.l.sa(d),cv(a),tv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function cv(a){if(a.G=0,a.ka=[],a.l){let d=Uy(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function uv(a,d,h){var p=h instanceof gr?fn(h):new gr(h);if(p.g!="")d&&(p.g=d+"."+p.g),ka(p,p.s);else{var D=c.location;p=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var C=new gr(null);p&&Oa(C,p),d&&(C.g=d),D&&ka(C,D),h&&(C.l=h),p=C}return h=a.D,d=a.ya,h&&d&&we(p,h,d),we(p,"VER",a.la),Us(a,p),p}function lv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Se(new ks({eb:h})):new Se(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dv(){}t=dv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $a(){}$a.prototype.g=function(a,d){return new ut(a,d)};function ut(a,d){Qe.call(this),this.g=new ev(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!Z(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Jr(this)}A(ut,Qe),ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ut.prototype.close=function(){ld(this.g)},ut.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Zl(a),a=h);d.i.push(new Kb(d.Ya++,a)),d.G==3&&ja(d)},ut.prototype.N=function(){this.g.l=null,delete this.j,ld(this.g),delete this.g,ut.aa.N.call(this)};function hv(a){ed.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(hv,ed);function fv(){td.call(this),this.status=1}A(fv,td);function Jr(a){this.g=a}A(Jr,dv),Jr.prototype.ua=function(){nt(this.g,"a")},Jr.prototype.ta=function(a){nt(this.g,new hv(a))},Jr.prototype.sa=function(a){nt(this.g,new fv)},Jr.prototype.ra=function(){nt(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,ut.prototype.send=ut.prototype.o,ut.prototype.open=ut.prototype.m,ut.prototype.close=ut.prototype.close,mg=An.createWebChannelTransport=function(){return new $a},gg=An.getStatEventTarget=function(){return xa()},pg=An.Event=fr,il=An.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,ia=An.ErrorCode=Ma,Ry.COMPLETE="complete",fg=An.EventType=Ry,Ty.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Zi=An.WebChannel=Ty,hg=An.FetchXmlHttpFactory=ks,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,dg=An.XhrIo=Se}).apply(typeof rl<"u"?rl:typeof self<"u"?self:typeof window<"u"?window:{});var tT="@firebase/firestore";var qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");var _s="10.12.1";var qr=new ir("@firebase/firestore");function sa(){return qr.logLevel}function k(t,...e){if(qr.logLevel<=ne.DEBUG){let n=e.map(Qm);qr.debug(`Firestore (${_s}): ${t}`,...n)}}function xn(t,...e){if(qr.logLevel<=ne.ERROR){let n=e.map(Qm);qr.error(`Firestore (${_s}): ${t}`,...n)}}function as(t,...e){if(qr.logLevel<=ne.WARN){let n=e.map(Qm);qr.warn(`Firestore (${_s}): ${t}`,...n)}}function Qm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: `+t;throw xn(e),new Error(e)}function Fe(t,e){t||K()}function le(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ul=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Eg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qe.UNAUTHENTICATED))}shutdown(){}},Dg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Tg=class{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(k("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new ul(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new qe(e)}},bg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Cg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Sg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ag=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,k("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new Sg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function u1(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Rg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=u1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function cs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Mt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Mt(0,0))}static max(){return new t(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ll=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends ll{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},l1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends ll{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return l1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new U(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new U(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var xg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};xg.UNKNOWN_ID=-1;function d1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new zr(i,B.empty(),e)}function h1(t){return new zr(t.readTime,t.key,-1)}var zr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(J.min(),B.empty(),-1)}static max(){return new t(J.max(),B.empty(),-1)}};function f1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var p1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ym(t){return S(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==p1)throw t;k("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function g1(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ta(t){return t.name==="IndexedDbTransactionError"}var NT=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function kl(t){return t==null}function dl(t){return t===0&&1/t==-1/0}var m1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fz=[...m1,"documentOverlays"],y1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],v1=y1,Lz=[...v1,"indexConfiguration","indexState","indexEntries"];function nT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fl(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Me=class t{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ns(this.root,e,this.comparator,!0)}},ns=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class t{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hl(this.data.getIterator())}getIteratorFrom(e){return new hl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var jr=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new tt(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var fl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var st=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};st.EMPTY_BYTE_STRING=new st("");var I1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(t){if(Fe(!!t),typeof t=="string"){let e=0,n=I1.exec(t);if(Fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}function Jm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zm(t){let e=t.mapValue.fields.__previous_value__;return Jm(e)?Zm(e):e}function ha(t){let e=Mn(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}var Ng=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},pl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jm(t)?4:PT(t)?9007199254740991:10:K()}function ln(t,e){if(t===e)return!0;let n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ha(t).isEqual(ha(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Mn(i.timestampValue),c=Mn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return lr(i.bytesValue).isEqual(lr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Re(i.geoPointValue.latitude)===Re(s.geoPointValue.latitude)&&Re(i.geoPointValue.longitude)===Re(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Re(i.integerValue)===Re(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Re(i.doubleValue),c=Re(s.doubleValue);return o===c?dl(o)===dl(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return cs(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(nT(o)!==nT(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!ln(o[u],c[u])))return!1;return!0}(t,e);default:return K()}}function fa(t,e){return(t.values||[]).find(n=>ln(n,e))!==void 0}function us(t,e){if(t===e)return 0;let n=Gr(t),r=Gr(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Re(s.integerValue||s.doubleValue),u=Re(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return rT(t.timestampValue,e.timestampValue);case 4:return rT(ha(t),ha(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let c=lr(s),u=lr(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=me(c[l],u[l]);if(f!==0)return f}return me(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=me(Re(s.latitude),Re(o.latitude));return c!==0?c:me(Re(s.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let c=s.values||[],u=o.values||[];for(let l=0;l<c.length&&l<u.length;++l){let f=us(c[l],u[l]);if(f)return f}return me(c.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===sl.mapValue&&o===sl.mapValue)return 0;if(s===sl.mapValue)return 1;if(o===sl.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let y=me(u[g],f[g]);if(y!==0)return y;let T=us(c[u[g]],l[f[g]]);if(T!==0)return T}return me(u.length,f.length)}(t.mapValue,e.mapValue);default:throw K()}}function rT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=Mn(t),r=Mn(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function ls(t){return Pg(t)}function Pg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Mn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Pg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Pg(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function Og(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function iT(t){return!!t&&"nullValue"in t}function sT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yg(t){return!!t&&"mapValue"in t}function aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Fl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=aa(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Rn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=aa(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=aa(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());yg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fl(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(aa(this.value))}};var Gt=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,J.min(),J.min(),J.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,J.min(),J.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,J.min(),J.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ds=class{constructor(e,n){this.position=e,this.inclusive=n}};function oT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=us(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function aT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}var hs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function w1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var gl=class{},Ve=class t extends gl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fg(e,n,r):n==="array-contains"?new Ug(e,r):n==="in"?new jg(e,r):n==="not-in"?new Bg(e,r):n==="array-contains-any"?new $g(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Lg(e,r):new Vg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(us(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dn=class t extends gl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return OT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function OT(t){return t.op==="and"}function kT(t){return E1(t)&&OT(t)}function E1(t){for(let e of t.filters)if(e instanceof dn)return!1;return!0}function kg(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+ls(t.value);if(kT(t))return t.filters.map(e=>kg(e)).join(",");{let e=t.filters.map(n=>kg(n)).join(",");return`${t.op}(${e})`}}function FT(t,e){return t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&ln(r.value,i.value)}(t,e):t instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&FT(o,i.filters[c]),!0):!1}(t,e):void K()}function LT(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${ls(n.value)}`}(t):t instanceof dn?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(t):"Filter"}var Fg=class extends Ve{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},Lg=class extends Ve{constructor(e,n){super(e,"in",n),this.keys=VT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Vg=class extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=VT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function VT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var Ug=class extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Xm(n)&&fa(n.arrayValue,this.value)}},jg=class extends Ve{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fa(this.value.arrayValue,n)}},Bg=class extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!fa(this.value.arrayValue,n)}},$g=class extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fa(this.value.arrayValue,r))}};var Hg=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function cT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Hg(t,e,n,r,i,s,o)}function ey(t){let e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),kl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ls(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ls(r)).join(",")),e.ue=n}return e.ue}function ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aT(t.startAt,e.startAt)&&aT(t.endAt,e.endAt)}function qg(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var fs=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function D1(t,e,n,r,i,s,o,c){return new fs(t,e,n,r,i,s,o,c)}function ny(t){return new fs(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function T1(t){return t.collectionGroup!==null}function ca(t){let e=le(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new tt(zt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new hs(s,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new hs(zt.keyField(),r))}return e.ce}function un(t){let e=le(t);return e.le||(e.le=b1(e,ca(t))),e.le}function b1(t,e){if(t.limitType==="F")return cT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new hs(i.field,s)});let n=t.endAt?new ds(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ds(t.startAt.position,t.startAt.inclusive):null;return cT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zg(t,e,n){return new fs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ll(t,e){return ty(un(t),un(e))&&t.limitType===e.limitType}function UT(t){return`${ey(un(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LT(i)).join(", ")}]`),kl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ls(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ls(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function Vl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):B.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ca(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=oT(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,ca(r),i)||r.endAt&&!function(o,c,u){let l=oT(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,ca(r),i))}(t,e)}function C1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jT(t){return(e,n)=>{let r=!1;for(let i of ca(t)){let s=S1(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S1(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?us(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}};var A1=new Me(B.comparator);function hr(){return A1}var BT=new Me(B.comparator);function oa(...t){let e=BT;for(let n of t)e=e.insert(n.key,n);return e}function R1(t){let e=BT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Br(){return ua()}function $T(){return ua()}function ua(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Uz=new Me(B.comparator),x1=new tt(B.comparator);function ue(...t){let e=x1;for(let n of t)e=e.add(n);return e}var M1=new tt(me);function N1(){return M1}function P1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function O1(t){return{integerValue:""+t}}var ps=class{constructor(){this._=void 0}};function k1(t,e,n){return t instanceof pa?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jm(s)&&(s=Zm(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof gs?HT(t,e):t instanceof ms?qT(t,e):function(i,s){let o=L1(i,s),c=lT(o)+lT(i.Pe);return Og(o)&&Og(i.Pe)?O1(c):P1(i.serializer,c)}(t,e)}function F1(t,e,n){return t instanceof gs?HT(t,e):t instanceof ms?qT(t,e):n}function L1(t,e){return t instanceof ga?function(r){return Og(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var pa=class extends ps{},gs=class extends ps{constructor(e){super(),this.elements=e}};function HT(t,e){let n=zT(e);for(let r of t.elements)n.some(i=>ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var ms=class extends ps{constructor(e){super(),this.elements=e}};function qT(t,e){let n=zT(e);for(let r of t.elements)n=n.filter(i=>!ln(i,r));return{arrayValue:{values:n}}}var ga=class extends ps{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function lT(t){return Re(t.integerValue||t.doubleValue)}function zT(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function V1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gs&&i instanceof gs||r instanceof ms&&i instanceof ms?cs(r.elements,i.elements,ln):r instanceof ga&&i instanceof ga?ln(r.Pe,i.Pe):r instanceof pa&&i instanceof pa}(t.transform,e.transform)}var la=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function al(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ma=class{};function GT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gg(t.key,la.none()):new ya(t.key,t.data,la.none());{let n=t.data,r=Rn.empty(),i=new tt(zt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ys(t.key,r,new jr(i.toArray()),la.none())}}function U1(t,e,n){t instanceof ya?function(i,s,o){let c=i.value.clone(),u=hT(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ys?function(i,s,o){if(!al(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=hT(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(WT(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function da(t,e,n,r){return t instanceof ya?function(s,o,c,u){if(!al(s.precondition,o))return c;let l=s.value.clone(),f=fT(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ys?function(s,o,c,u){if(!al(s.precondition,o))return c;let l=fT(s.fieldTransforms,u,o),f=o.data;return f.setAll(WT(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,c){return al(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function dT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cs(r,i,(s,o)=>V1(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ya=class extends ma{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ys=class extends ma{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function WT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function hT(t,e,n){let r=new Map;Fe(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,F1(o,c,n[i]))}return r}function fT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,k1(s,o,e))}return r}var Gg=class extends ma{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var Wg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&U1(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=$T();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=GT(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(n,r)=>dT(n,r))&&cs(this.baseMutations,e.baseMutations,(n,r)=>dT(n,r))}};var Kg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Qg=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,ce;function KT(t){if(t===void 0)return xn("GRPC error has no .code"),O.UNKNOWN;switch(t){case Pe.OK:return O.OK;case Pe.CANCELLED:return O.CANCELLED;case Pe.UNKNOWN:return O.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return O.INTERNAL;case Pe.UNAVAILABLE:return O.UNAVAILABLE;case Pe.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Pe.NOT_FOUND:return O.NOT_FOUND;case Pe.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Pe.ABORTED:return O.ABORTED;case Pe.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Pe.DATA_LOSS:return O.DATA_LOSS;default:return K()}}(ce=Pe||(Pe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var pT=null;function j1(){return new TextEncoder}var B1=new cr([4294967295,4294967295],0);function gT(t){let e=j1().encode(t),n=new lg;return n.update(e),new Uint8Array(n.digest())}function mT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cr([n,r],0),new cr([i,s],0)]}var Yg=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $r(`Invalid padding: ${n}`);if(r<0)throw new $r(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $r(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $r(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cr.fromNumber(r)));return i.compare(B1)===1&&(i=new cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=gT(e),[r,i]=mT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=gT(e),[r,i]=mT(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},$r=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ml=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(J.min(),i,new Me(me),hr(),ue())}},va=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var rs=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},yl=class{constructor(e,n){this.targetId=e,this.me=n}},vl=class{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_l=class{constructor(){this.fe=0,this.ge=vT(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new va(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=vT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Jg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=yT(),this.Qe=new Me(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(qg(s))if(r===0){let o=new B(s.path);this.Ue(n,o,Gt.newNoDocument(o,J.min()))}else Fe(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}pT?.et(function(f,g,y,T,A){var x,R,L,Z,q,re;let Ce={localCacheCount:f,existenceFilterCount:g.count,databaseId:y.database,projectId:y.projectId},Q=g.unchangedNames;return Q&&(Ce.bloomFilter={applied:A===0,hashCount:(x=Q?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(Z=(L=(R=Q?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&Z!==void 0?Z:0,padding:(re=(q=Q?.bits)===null||q===void 0?void 0:q.padding)!==null&&re!==void 0?re:0,mightContain:w=>{var m;return(m=T?.mightContain(w))!==null&&m!==void 0&&m}}),Ce}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=lr(r).toUint8Array()}catch(u){if(u instanceof fl)return as("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Yg(o,i,s)}catch(u){return as(u instanceof $r?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&qg(c.target)){let u=new B(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Gt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=ue();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new ml(e,n,this.Qe,this.ke,r);return this.ke=hr(),this.qe=yT(),this.Qe=new Me(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _l,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tt(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||k("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _l),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function yT(){return new Me(B.comparator)}function vT(){return new Me(B.comparator)}var $1={asc:"ASCENDING",desc:"DESCENDING"},H1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q1={and:"AND",or:"OR"},Zg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Xg(t,e){return t.useProto3Json||kl(e)?e:{value:e}}function z1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function is(t){return Fe(!!t),J.fromTimestamp(function(n){let r=Mn(n);return new Mt(r.seconds,r.nanos)}(t))}function W1(t,e){return em(t,e).canonicalString()}function em(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QT(t){let e=ke.fromString(t);return Fe(eb(e)),e}function vg(t,e){let n=QT(e);if(n.get(1)!==t.databaseId.projectId)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(JT(n))}function YT(t,e){return W1(t.databaseId,e)}function K1(t){let e=QT(t);return e.length===4?ke.emptyPath():JT(e)}function _T(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JT(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Q1(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Fe(f===void 0||typeof f=="string"),st.fromBase64String(f||"")):(Fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),st.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let f=l.code===void 0?O.UNKNOWN:KT(l.code);return new U(f,l.message||"")}(o);n=new vl(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vg(t,r.document.name),s=is(r.document.updateTime),o=r.document.createTime?is(r.document.createTime):J.min(),c=new Rn({mapValue:{fields:r.document.fields}}),u=Gt.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new rs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vg(t,r.document),s=r.readTime?is(r.readTime):J.min(),o=Gt.newNoDocument(i,s),c=r.removedTargetIds||[];n=new rs([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vg(t,r.document),s=r.removedTargetIds||[];n=new rs([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Qg(i,s),c=r.targetId;n=new yl(c,o)}}return n}function Y1(t,e){return{documents:[YT(t,e.path)]}}function J1(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YT(t,i);let s=function(l){if(l.length!==0)return XT(dn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:es(y.field),direction:eF(y.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=Xg(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function Z1(t){let e=K1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fe(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(g){let y=ZT(g);return y instanceof dn&&kT(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(y=>function(A){return new hs(ts(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(g){let y;return y=typeof g=="object"?g.value:g,kl(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(g){let y=!!g.before,T=g.values||[];return new ds(T,y)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let y=!g.before,T=g.values||[];return new ds(T,y)}(n.endAt)),D1(e,i,o,s,c,"F",u,l)}function X1(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ts(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ts(n.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ts(n.unaryFilter.field);return Ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ts(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dn.create(n.compositeFilter.filters.map(r=>ZT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function eF(t){return $1[t]}function tF(t){return H1[t]}function nF(t){return q1[t]}function es(t){return{fieldPath:t.canonicalString()}}function ts(t){return zt.fromServerFormat(t.fieldPath)}function XT(t){return t instanceof Ve?function(n){if(n.op==="=="){if(sT(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NAN"}};if(iT(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sT(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NAN"}};if(iT(n.value))return{unaryFilter:{field:es(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:es(n.field),op:tF(n.op),value:n.value}}}(t):t instanceof dn?function(n){let r=n.getFilters().map(i=>XT(i));return r.length===1?r[0]:{compositeFilter:{op:nF(n.op),filters:r}}}(t):K()}function eb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var _a=class t{constructor(e,n,r,i,s=J.min(),o=J.min(),c=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var tm=class{constructor(e){this.ct=e}};function rF(t){let e=Z1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zg(e,e.limit,"L"):e}var Il=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Re(e.integerValue));else if("doubleValue"in e){let r=Re(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),dl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Mn(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(lr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?PT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):K()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),B.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Il.bt=new Il;var nm=class{constructor(){this._n=new rm}addToCollectionParentIndex(e,n){return this._n.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(zr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},rm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(ke.comparator)).toArray()}};var jz=new Uint8Array(0);var an=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var Ia=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var im=class{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var sm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var om=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&da(r.mutation,i,jr.empty(),Mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oa();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=hr(),o=ua(),c=function(){return ua()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ys)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),da(f.mutation,l,f.mutation.getFieldMask(),Mt.now())):o.set(l.key,jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new sm(f,(g=o.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=ua(),i=new Me((o,c)=>o-c),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||jr.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||ue()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=$T();f.forEach(y=>{if(!s.has(y)){let T=GT(n.get(y),r.get(y));T!==null&&g.set(y,T),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,g))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(Br()),c=-1,u=s;return o.next(l=>M.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(f=>({batchId:c,changes:R1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=oa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=oa();return this.indexManager.getCollectionParents(e,s).next(c=>M.forEach(c,u=>{let l=function(g,y){return new fs(y,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,y)=>{o=o.insert(g,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Gt.newInvalidDocument(f)))});let c=oa();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&da(f.mutation,l,jr.empty(),Mt.now()),Vl(n,l)&&(c=c.insert(u,l))}),c})}};var am=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return M.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:is(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:rF(i.bundledQuery),readTime:is(i.readTime)}}(n)),M.resolve()}};var cm=class{constructor(){this.overlays=new Me(B.comparator),this.hr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Br();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=Br(),s=n.length+1,o=new B(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Br(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Br(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return M.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Kg(n,r));let s=this.hr.get(n);s===void 0&&(s=ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var wa=class{constructor(){this.Pr=new tt(Oe.Ir),this.Tr=new tt(Oe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Oe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new B(new ke([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new B(new ke([])),r=new Oe(n,e),i=new Oe(n,e+1),s=ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return B.comparator(e.key,n.key)||me(e.pr,n.pr)}static Er(e,n){return me(e.pr,n.pr)||B.comparator(e.key,n.key)}};var um=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new tt(Oe.Ir)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Wg(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.wr=this.wr.add(new Oe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let c=this.Sr(o.pr);s.push(c)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(me);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],c=>{r=r.add(c.pr)})}),M.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;B.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new B(s),0),c=new tt(me);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.pr)),!0)},o),M.resolve(this.Dr(c))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return M.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Oe(n,0),i=this.wr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var lm=class{constructor(e){this.vr=e,this.docs=function(){return new Me(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hr(),o=n.path,c=new B(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||f1(h1(f),r)<=0||(i.has(f.key)||Vl(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Fr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dm(this)}getSize(e){return M.resolve(this.size)}},dm=class extends im{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var hm=class{constructor(e){this.persistence=e,this.Mr=new dr(n=>ey(n),ty),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Or=0,this.Nr=new wa,this.targetCount=0,this.Lr=Ia.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),M.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ia(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.qn(n),M.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Nr.containsKey(n))}};var fm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new NT(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new hm(this),this.indexManager=new nm,this.remoteDocumentCache=function(i){return new lm(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new tm(n),this.$r=new am(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new um(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){k("MemoryPersistence","Starting transaction:",e);let i=new pm(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},pm=class extends Mg{constructor(e){super(),this.currentSequenceNumber=e}},gm=class t{constructor(e){this.persistence=e,this.zr=new wa,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),M.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Jr,r=>{let i=B.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return M.or([()=>M.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var mm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var ym=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return mD()?8:g1(mt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ym;return this.Ji(e,n,o).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,n,o,c.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(sa()<=ne.DEBUG&&k("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),M.resolve()):(sa()<=ne.DEBUG&&k("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(sa()<=ne.DEBUG&&k("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):M.resolve())}ji(e,n){if(uT(n))return M.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zg(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.zi.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(n,c);return this.Xi(n,l,o,u.readTime)?this.ji(e,zg(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return uT(n)||i.isEqual(J.min())?M.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?M.resolve(null):(sa()<=ne.DEBUG&&k("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xi(n)),this.es(e,o,n,d1(i,-1)).next(c=>c))})}Zi(e,n){let r=new tt(jT(e));return n.forEach((i,s)=>{Vl(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return sa()<=ne.DEBUG&&k("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.zi.getDocumentsMatchingQuery(e,n,zr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var _m=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Me(me),this.rs=new dr(s=>ey(s),ty),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new om(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function iF(t,e,n,r){return new _m(t,e,n,r)}function tb(t,e){return S(this,null,function*(){let n=le(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ue();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:c}))})})})}function nb(t){let e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function sF(t,e){let n=le(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let c=[];e.targetChanges.forEach((f,g)=>{let y=i.get(g);if(!y)return;c.push(n.Qr.removeMatchingKeys(s,f.removedDocuments,g).next(()=>n.Qr.addMatchingKeys(s,f.addedDocuments,g)));let T=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(st.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(g,T),function(x,R,L){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(y,T,f)&&c.push(n.Qr.updateTargetData(s,T))});let u=hr(),l=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(oF(s,o,e.documentUpdates).next(f=>{u=f.cs,l=f.ls})),!r.isEqual(J.min())){let f=n.Qr.getLastRemoteSnapshotVersion(s).next(g=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return M.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function oF(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hr();return n.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(J.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):k("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function aF(t,e){let n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new _a(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function Im(t,e,n){return S(this,null,function*(){let r=le(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Ta(o))throw o;k("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function IT(t,e,n){let r=le(t),i=J.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let g=le(u),y=g.rs.get(f);return y!==void 0?M.resolve(g.ns.get(y)):g.Qr.getTargetData(l,f)}(r,o,un(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ue())).next(c=>(cF(r,C1(e),c),{documents:c,hs:s})))}function cF(t,e,n){let r=t.ss.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var wl=class{constructor(){this.activeTargetIds=N1()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var wm=class{constructor(){this.no=new wl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new wl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Em=class{io(e){}shutdown(){}};var El=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ol=null;function _g(){return ol===null?ol=function(){return 268435456+Math.round(2147483648*Math.random())}():ol++,"0x"+ol.toString(16)}var uF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Dm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var et="WebChannelConnection",Tm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let c=_g(),u=this.vo(n,r.toUriEncodedString());k("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(f=>(k("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw as("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,s,o,c){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=uF[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=_g();return new Promise((o,c)=>{let u=new dg;u.setWithCredentials(!0),u.listenOnce(fg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ia.NO_ERROR:let f=u.getResponseJson();k(et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case ia.TIMEOUT:k(et,`RPC '${e}' ${s} timed out`),c(new U(O.DEADLINE_EXCEEDED,"Request time out"));break;case ia.HTTP_ERROR:let g=u.getStatus();if(k(et,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let A=function(R){let L=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(L)>=0?L:O.UNKNOWN}(T.status);c(new U(A,T.message))}else c(new U(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new U(O.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{k(et,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);k(et,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=_g(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mg(),c=gg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new hg({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");k(et,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=o.createWebChannel(f,u),y=!1,T=!1,A=new Dm({lo:R=>{T?k(et,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(k(et,`Opening RPC '${e}' stream ${i} transport.`),g.open(),y=!0),k(et,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},ho:()=>g.close()}),x=(R,L,Z)=>{R.listen(L,q=>{try{Z(q)}catch(re){setTimeout(()=>{throw re},0)}})};return x(g,Zi.EventType.OPEN,()=>{T||(k(et,`RPC '${e}' stream ${i} transport opened.`),A.mo())}),x(g,Zi.EventType.CLOSE,()=>{T||(T=!0,k(et,`RPC '${e}' stream ${i} transport closed`),A.po())}),x(g,Zi.EventType.ERROR,R=>{T||(T=!0,as(et,`RPC '${e}' stream ${i} transport errored:`,R),A.po(new U(O.UNAVAILABLE,"The operation could not be completed")))}),x(g,Zi.EventType.MESSAGE,R=>{var L;if(!T){let Z=R.data[0];Fe(!!Z);let q=Z,re=q.error||((L=q[0])===null||L===void 0?void 0:L.error);if(re){k(et,`RPC '${e}' stream ${i} received error:`,re);let Ce=re.status,Q=function(v){let I=Pe[v];if(I!==void 0)return KT(I)}(Ce),w=re.message;Q===void 0&&(Q=O.INTERNAL,w="Unknown error status: "+Ce+" with message "+re.message),T=!0,A.po(new U(Q,w)),g.close()}else k(et,`RPC '${e}' stream ${i} received:`,Z),A.yo(Z)}}),x(c,pg.STAT_EVENT,R=>{R.stat===il.PROXY?k(et,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===il.NOPROXY&&k(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}};function Ig(){return typeof document<"u"?document:null}function rb(t){return new Zg(t,!0)}var Dl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&k("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var bm=class{constructor(e,n,r,i,s,o,c,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Dl(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return S(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return S(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return S(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(xn(n.toString()),xn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new U(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>S(this,null,function*(){this.state=0,this.start()}))}c_(e){return k("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cm=class extends bm{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=Q1(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?is(o.readTime):J.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=_T(this.serializer),n.addTarget=function(s,o){let c,u=o.target;if(c=qg(u)?{documents:Y1(s,u)}:{query:J1(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=G1(s,o.resumeToken);let l=Xg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(J.min())>0){c.readTime=z1(s,o.snapshotVersion.toTimestamp());let l=Xg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=X1(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=_T(this.serializer),n.removeTarget=e,this.i_(n)}};var Sm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,em(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(O.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.xo(e,em(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(O.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Am=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(xn(n),this.y_=!1):k("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Rm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>S(this,null,function*(){Ca(this)&&(k("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=le(u);l.M_.add(4),yield ba(l),l.N_.set("Unknown"),l.M_.delete(4),yield Ul(l)})}(this))}))}),this.N_=new Am(r,i)}};function Ul(t){return S(this,null,function*(){if(Ca(t))for(let e of t.x_)yield e(!0)})}function ba(t){return S(this,null,function*(){for(let e of t.x_)yield e(!1)})}function ib(t,e){let n=le(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),oy(n)?sy(n):Is(n).Xo()&&iy(n,e))}function ry(t,e){let n=le(t),r=Is(n);n.F_.delete(e),r.Xo()&&sb(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ca(n)&&n.N_.set("Unknown"))}function iy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Is(t).P_(e)}function sb(t,e){t.L_.xe(e),Is(t).I_(e)}function sy(t){t.L_=new Jg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Is(t).start(),t.N_.w_()}function oy(t){return Ca(t)&&!Is(t).Zo()&&t.F_.size>0}function Ca(t){return le(t).M_.size===0}function ob(t){t.L_=void 0}function lF(t){return S(this,null,function*(){t.N_.set("Online")})}function dF(t){return S(this,null,function*(){t.F_.forEach((e,n)=>{iy(t,e)})})}function hF(t,e){return S(this,null,function*(){ob(t),oy(t)?(t.N_.D_(e),sy(t)):t.N_.set("Unknown")})}function fF(t,e,n){return S(this,null,function*(){if(t.N_.set("Online"),e instanceof vl&&e.state===2&&e.cause)try{yield function(i,s){return S(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.F_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.F_.delete(c),i.L_.removeTarget(c))})}(t,e)}catch(r){k("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wT(t,r)}else if(e instanceof rs?t.L_.Ke(e):e instanceof yl?t.L_.He(e):t.L_.We(e),!n.isEqual(J.min()))try{let r=yield nb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.L_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.F_.get(l);f&&s.F_.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.F_.get(u);if(!f)return;s.F_.set(u,f.withResumeToken(st.EMPTY_BYTE_STRING,f.snapshotVersion)),sb(s,u);let g=new _a(f.target,u,l,f.sequenceNumber);iy(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){k("RemoteStore","Failed to raise snapshot:",r),yield wT(t,r)}})}function wT(t,e,n){return S(this,null,function*(){if(!Ta(e))throw e;t.M_.add(1),yield ba(t),t.N_.set("Offline"),n||(n=()=>nb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){k("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Ul(t)}))})}function ET(t,e){return S(this,null,function*(){let n=le(t);n.asyncQueue.verifyOperationInProgress(),k("RemoteStore","RemoteStore received new credentials");let r=Ca(n);n.M_.add(3),yield ba(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Ul(n)})}function pF(t,e){return S(this,null,function*(){let n=le(t);e?(n.M_.delete(2),yield Ul(n)):e||(n.M_.add(2),yield ba(n),n.N_.set("Unknown"))})}function Is(t){return t.B_||(t.B_=function(n,r,i){let s=le(n);return s.f_(),new Cm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:lF.bind(null,t),To:dF.bind(null,t),Ao:hF.bind(null,t),h_:fF.bind(null,t)}),t.x_.push(e=>S(this,null,function*(){e?(t.B_.t_(),oy(t)?sy(t):t.N_.set("Unknown")):(yield t.B_.stop(),ob(t))}))),t.B_}var xm=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ab(t,e){if(xn("AsyncQueue",`${e}: ${t}`),Ta(t))return new U(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Tl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=oa(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var bl=class{constructor(){this.q_=new Me(B.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):K():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},vs=class t{constructor(e,n,r,i,s,o,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,Tl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ll(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Mm=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Nm=class{constructor(){this.queries=new dr(e=>UT(e),Ll),this.onlineState="Unknown",this.z_=new Set}};function gF(t,e){return S(this,null,function*(){let n=le(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Mm,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=ab(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&ay(n)})}function mF(t,e){return S(this,null,function*(){let n=le(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function yF(t,e){let n=le(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.U_)c.H_(i)&&(r=!0);o.K_=i}}r&&ay(n)}function vF(t,e,n){let r=le(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function ay(t){t.z_.forEach(e=>{e.next()})}var Pm,DT;(DT=Pm||(Pm={})).J_="default",DT.Cache="cache";var Om=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Pm.Cache}};var Cl=class{constructor(e){this.key=e}},Sl=class{constructor(e){this.key=e}},km=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ue(),this.mutatedKeys=ue(),this.Ia=jT(e),this.Ta=new Tl(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new bl,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let y=i.get(f),T=Vl(this.query,g)?g:null,A=!!y&&this.mutatedKeys.has(y.key),x=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations),R=!1;y&&T?y.data.isEqual(T.data)?A!==x&&(r.track({type:3,doc:T}),R=!0):this.Ra(y,T)||(r.track({type:2,doc:T}),R=!0,(u&&this.Ia(T,u)>0||l&&this.Ia(T,l)<0)&&(c=!0)):!y&&T?(r.track({type:0,doc:T}),R=!0):y&&!T&&(r.track({type:1,doc:y}),R=!0,(u||l)&&(c=!0)),R&&(T?(o=o.add(T),s=x?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ta:o,Aa:r,Xi:c,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((f,g)=>function(T,A){let x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return x(T)-x(A)}(f.type,g.type)||this.Ia(f.doc,g.doc)),this.Va(r),i=i!=null&&i;let c=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,l=u!==this.ha;return this.ha=u,o.length!==0||l?{snapshot:new vs(this.query,e.Ta,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new bl,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=ue(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Sl(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Cl(r))}),n}pa(e){this.la=e.hs,this.Pa=ue();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return vs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Fm=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Lm=class{constructor(e){this.key=e,this.wa=!1}},Vm=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new dr(c=>UT(c),Ll),this.Da=new Map,this.Ca=new Set,this.va=new Me(B.comparator),this.Fa=new Map,this.Ma=new wa,this.xa={},this.Oa=new Map,this.Na=Ia.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function _F(t,e,n=!0){return S(this,null,function*(){let r=hb(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield cb(r,e,n,!0),i})}function IF(t,e){return S(this,null,function*(){let n=hb(t);yield cb(n,e,!0,!1)})}function cb(t,e,n,r){return S(this,null,function*(){let i=yield aF(t.localStore,un(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",c;return r&&(c=yield wF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ib(t.remoteStore,i),c})}function wF(t,e,n,r,i){return S(this,null,function*(){t.Ba=(g,y,T)=>function(x,R,L,Z){return S(this,null,function*(){let q=R.view.da(L);q.Xi&&(q=yield IT(x.localStore,R.query,!1).then(({documents:w})=>R.view.da(w,q)));let re=Z&&Z.targetChanges.get(R.targetId),Ce=Z&&Z.targetMismatches.get(R.targetId)!=null,Q=R.view.applyChanges(q,x.isPrimaryClient,re,Ce);return bT(x,R.targetId,Q.fa),Q.snapshot})}(t,g,y,T);let s=yield IT(t.localStore,e,!0),o=new km(e,s.hs),c=o.da(s.documents),u=va.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(c,t.isPrimaryClient,u);bT(t,n,l.fa);let f=new Fm(e,n,o);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function EF(t,e,n){return S(this,null,function*(){let r=le(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ll(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ry(r.remoteStore,i.targetId),Um(r,i.targetId)}).catch(Ym))):(Um(r,i.targetId),yield Im(r.localStore,i.targetId,!0))})}function DF(t,e){return S(this,null,function*(){let n=le(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ry(n.remoteStore,r.targetId))})}function ub(t,e){return S(this,null,function*(){let n=le(t);try{let r=yield sF(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Fe(o.wa):i.removedDocuments.size>0&&(Fe(o.wa),o.wa=!1))}),yield db(n,r,e)}catch(r){yield Ym(r)}})}function TT(t,e,n){let r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let c=o.view.j_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=le(o);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let y of g.U_)y.j_(c)&&(l=!0)}),l&&ay(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TF(t,e,n){return S(this,null,function*(){let r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Me(B.comparator);o=o.insert(s,Gt.newNoDocument(s,J.min()));let c=ue().add(s),u=new ml(J.min(),new Map,new Me(me),o,c);yield ub(r,u),r.va=r.va.remove(s),r.Fa.delete(e),cy(r)}else yield Im(r.localStore,e,!1).then(()=>Um(r,e,n)).catch(Ym)})}function Um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||lb(t,r)})}function lb(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(ry(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),cy(t))}function bT(t,e,n){for(let r of n)r instanceof Cl?(t.Ma.addReference(r.key,e),bF(t,r)):r instanceof Sl?(k("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||lb(t,r.key)):K()}function bF(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(k("SyncEngine","New document in limbo: "+n),t.Ca.add(r),cy(t))}function cy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new B(ke.fromString(e)),r=t.Na.next();t.Fa.set(r,new Lm(n)),t.va=t.va.insert(n,r),ib(t.remoteStore,new _a(un(ny(n.path)),r,"TargetPurposeLimboResolution",NT.oe))}}function db(t,e,n){return S(this,null,function*(){let r=le(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((c,u)=>{o.push(r.Ba(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=mm.Ki(u.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(u,l){return S(this,null,function*(){let f=le(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>M.forEach(l,y=>M.forEach(y.qi,T=>f.persistence.referenceDelegate.addReference(g,y.targetId,T)).next(()=>M.forEach(y.Qi,T=>f.persistence.referenceDelegate.removeReference(g,y.targetId,T)))))}catch(g){if(!Ta(g))throw g;k("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let y=g.targetId;if(!g.fromCache){let T=f.ns.get(y),A=T.snapshotVersion,x=T.withLastLimboFreeSnapshotVersion(A);f.ns=f.ns.insert(y,x)}}})}(r.localStore,s))})}function CF(t,e){return S(this,null,function*(){let n=le(t);if(!n.currentUser.isEqual(e)){k("SyncEngine","User change. New user:",e.toKey());let r=yield tb(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(c=>{c.forEach(u=>{u.reject(new U(O.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield db(n,r.us)}})}function SF(t,e){let n=le(t),r=n.Fa.get(e);if(r&&r.wa)return ue().add(r.key);{let i=ue(),s=n.Da.get(e);if(!s)return i;for(let o of s){let c=n.ba.get(o);i=i.unionWith(c.view.Ea)}return i}}function hb(t){let e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TF.bind(null,e),e.Sa.h_=yF.bind(null,e.eventManager),e.Sa.ka=vF.bind(null,e.eventManager),e}var Al=class{constructor(){this.synchronizeTabs=!1}initialize(e){return S(this,null,function*(){this.serializer=rb(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return iF(this.persistence,new vm,e.initialUser,this.serializer)}createPersistence(e){return new fm(gm.Hr,this.serializer)}createSharedClientState(e){return new wm}terminate(){return S(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var jm=class{initialize(e,n){return S(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CF.bind(null,this.syncEngine),yield pF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Nm}()}createDatastore(e){let n=rb(e.databaseInfo.databaseId),r=function(s){return new Tm(s)}(e.databaseInfo);return function(s,o,c,u){return new Sm(s,o,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,c){return new Rm(r,i,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,n=>TT(this.syncEngine,n,0),function(){return El.D()?new El:new Em}())}createSyncEngine(e,n){return function(i,s,o,c,u,l,f){let g=new Vm(i,s,o,c,u,l);return f&&(g.La=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return S(this,null,function*(){var e;yield function(r){return S(this,null,function*(){let i=le(r);k("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield ba(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Bm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):xn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var $m=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qe.UNAUTHENTICATED,this.clientId=Rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>S(this,null,function*(){k("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(k("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ab(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function wg(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),k("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield tb(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function CT(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield RF(t);k("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ET(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ET(e.remoteStore,i)),t._onlineComponents=e})}function AF(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function RF(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){k("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!AF(n))throw n;as("Error using user provided cache. Falling back to memory cache: "+n),yield wg(t,new Al)}}else k("FirestoreClient","Using default OfflineComponentProvider"),yield wg(t,new Al);return t._offlineComponents})}function xF(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(k("FirestoreClient","Using user provided OnlineComponentProvider"),yield CT(t,t._uninitializedComponentsProvider._online)):(k("FirestoreClient","Using default OnlineComponentProvider"),yield CT(t,new jm))),t._onlineComponents})}function ST(t){return S(this,null,function*(){let e=yield xF(t),n=e.eventManager;return n.onListen=_F.bind(null,e.syncEngine),n.onUnlisten=EF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DF.bind(null,e.syncEngine),n})}function fb(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var AT=new Map;function MF(t,e,n){if(!n)throw new U(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NF(t,e,n,r){if(e===!0&&r===!0)throw new U(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RT(t){if(B.isDocumentKey(t))throw new U(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function PF(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function cl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=PF(t);throw new U(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Rl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ea=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Eg;switch(r.type){case"firstParty":return new Cg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=AT.get(n);r&&(k("ComponentProvider","Removing Datastore"),AT.delete(n),r.terminate())}(this),Promise.resolve()}};function pb(t,e,n,r={}){var i;let s=(t=cl(t,Ea))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=qe.MOCK_USER;else{c=hD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new qe(l)}t._authCredentials=new Dg(new ul(c,u))}}var xl=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ss=class t extends xl{constructor(e,n,r){super(e,n,ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wr(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function uy(t,e,...n){if(t=rr(t),MF("collection","path",e),t instanceof Ea){let r=ke.fromString(e,...n);return RT(r),new ss(t,null,r)}{if(!(t instanceof Wr||t instanceof ss))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return RT(r),new ss(t.firestore,null,r)}}var Hm=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Dl(this,"async_queue_retry"),this.hu=()=>{let n=Ig();n&&k("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Ig();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new ur;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return S(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ta(e))throw e;k("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw xn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=xm.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&K()}verifyOperationInProgress(){}du(){return S(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function xT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Da=class extends Ea{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Hm}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mb(this),this._firestoreClient.terminate()}};function gb(t,e){let n=typeof t=="object"?t:Ko(),r=typeof t=="string"?t:e||"(default)",i=zp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=lD("firestore");s&&pb(i,...s)}return i}function OF(t){return t._firestoreClient||mb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function mb(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new Ng(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,fb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new $m(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var qm=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(st.fromBase64String(e))}catch(n){throw new U(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ml=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zm=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var kF=new RegExp("[~\\*/\\[\\]]");function FF(t,e,n){if(e.search(kF)>=0)throw MT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ml(...e.split("."))._internalPath}catch{throw MT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function MT(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(O.INVALID_ARGUMENT,c+t+u)}var Nl=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Gm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(yb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Gm=class extends Nl{data(){return super.data()}};function yb(t,e){return typeof e=="string"?FF(t,e):e instanceof Ml?e._internalPath:e._delegate._internalPath}function LF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wm=class{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Fl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new zm(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Zm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ha(e));default:return null}}convertTimestamp(e){let n=Mn(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Fe(eb(r));let i=new pl(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};var Hr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Pl=class extends Nl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(yb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},os=class extends Pl{data(e={}){return super.data(e)}},Km=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new os(this._firestore,this._userDataWriter,r.key,r,new Hr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new os(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Hr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:VF(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function VF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}var Ol=class extends Wm{constructor(e){super(),this.firestore=e}convertBytes(e){return new qm(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wr(this.firestore,null,n)}};function ly(t,...e){var n,r,i;t=rr(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||xT(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(xT(e[o])){let g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,l,f;if(t instanceof Wr)l=cl(t.firestore,Da),f=ny(t._key.path),u={next:g=>{e[o]&&e[o](UF(l,t,g))},error:e[o+1],complete:e[o+2]};else{let g=cl(t,xl);l=cl(g.firestore,Da),f=g._query;let y=new Ol(l);u={next:T=>{e[o]&&e[o](new Km(l,y,g,T))},error:e[o+1],complete:e[o+2]},LF(t._query)}return function(y,T,A,x){let R=new Bm(x),L=new Om(T,R,A);return y.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return gF(yield ST(y),L)})),()=>{R.$a(),y.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return mF(yield ST(y),L)}))}}(OF(l),f,c,u)}function UF(t,e,n){let r=n.docs.get(e._key),i=new Ol(t);return new Pl(t,i,e._key,r,new Hr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_s=i})(Ki),or(new xt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Da(new Tg(r.getProvider("auth-internal")),new Ag(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),He(tT,"4.6.3",e),He(tT,"4.6.3","esm2017")})();var jl=function(){return jl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jl.apply(this,arguments)};var $F={includeMetadataChanges:!1};function vb(t,e){return e===void 0&&(e=$F),new ie(function(n){var r=ly(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function _b(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:jl(jl({},r),(n={},n[e.idField]=t.id,n))}function Ib(t){return vb(t,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function wb(t,e){return e===void 0&&(e={}),Ib(t).pipe(ee(function(n){return n.map(function(r){return _b(r,e)})}))}var Kr=class{constructor(e){return e}},Eb="firestore",dy=class{constructor(){return Yo(Eb)}};var hy=new W("angularfire2.firestore-instances");function HF(t,e){let n=Kp(Eb,t,e);return n&&new Kr(n)}function qF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Kr(r)}}var zF={provide:dy,deps:[[new wt,hy]]},GF={provide:Kr,useFactory:HF,deps:[[new wt,hy],Lr]};function Db(t,...e){return He("angularfire",Yi.full,"fst"),Wn([GF,zF,{provide:hy,useFactory:qF(t),multi:!0,deps:[ye,bt,Jo,Zo,[new wt,nl],[new wt,Qo],...e]}])}var Tb=Ji(wb,!0);var bb=Ji(gb,!0);var Bl=(()=>{let e=class e{constructor(){this.firestore=N(Kr),this.dressesCollection=uy(this.firestore,"collection")}getDresses(){return Tb(this.dressesCollection,{idField:"id"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $l=(()=>{let e=class e{constructor(){this.dressesSig=Lw([])}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var WF=()=>["/cart"];function KF(t,e){t&1&&(he(0,"h2")(1,"a",6),De(2,"Go to cart"),ve()()),t&2&&(be(),We("routerLink",Ni(1,WF)))}function QF(t,e){t&1&&(he(0,"div"),De(1,"No dresses"),ve())}function YF(t,e){if(t&1){let n=Mr();he(0,"li")(1,"div",7),$t(2,"img",8),he(3,"h3",9),De(4),ve(),he(5,"p",10),De(6),ve(),he(7,"button",11),Ct("click",function(){let i=wn(n).$implicit,s=Ht();return En(s.addToCart(i))}),De(8,"Buy"),ve()()()}if(t&2){let n=e.$implicit;be(2),go("alt",n.title),We("src",n.image_url_1,po),be(2),Mi(n.title),be(2),Jn("Price: \u20AC ",n.price,".00 EUR")}}function JF(t,e){if(t&1){let n=Mr();he(0,"button",12),Ct("click",function(){let i=wn(n).$implicit,s=Ht();return En(s.goToPage(i))}),De(1),ve()}if(t&2){let n=e.$implicit,r=Ht();vf("active",n===r.currentPage),be(),Jn(" ",n," ")}}var Cb=(()=>{let e=class e{constructor(){this.dressesService=N($l),this.dressesFirebaseService=N(Bl),this.currentPage=1,this.itemsPerPage=10,this.cart=[]}ngOnInit(){if(this.isBrowser()){let r=localStorage.getItem("cart");r&&(this.cart=JSON.parse(r))}}get visibleDresses(){let r=(this.currentPage-1)*this.itemsPerPage,i=r+this.itemsPerPage;return this.dressesService.dressesSig().slice(r,i)}get totalPages(){let r=this.dressesService.dressesSig().length,i=[];for(let s=1;s<=Math.ceil(r/this.itemsPerPage);s++)i.push(s);return i}goToPage(r){this.currentPage=r}addToCart(r){let i=this.cart.findIndex(s=>s.id===r.id);i!==-1?this.cart[i].quantity++:this.cart.push({id:r.id,title:r.title,image:r.image_url_1,price:r.price,quantity:1}),this.isBrowser()&&localStorage.setItem("cart",JSON.stringify(this.cart)),alert(`${r.title} has been added to cart!`)}isBrowser(){return typeof window<"u"&&typeof window.localStorage<"u"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Et({type:e,selectors:[["dresses-list"]],standalone:!0,features:[St],decls:8,vars:4,consts:[[1,"container"],[4,"ngIf"],[1,"dress__list"],[4,"ngFor","ngForOf"],[1,"pagination"],[3,"active","click",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"dress__wrapper"],[1,"dress__image",3,"src","alt"],[1,"dress__title"],[1,"dress__price"],[1,"buy__button",3,"click"],[3,"click"]],template:function(i,s){i&1&&(he(0,"h1",0),De(1,"Dresses"),ve(),Yn(2,KF,3,2,"h2",1)(3,QF,2,0,"div",1),he(4,"ul",2),Yn(5,YF,9,4,"li",3),ve(),he(6,"div",4),Yn(7,JF,2,3,"button",5),ve()),i&2&&(be(2),We("ngIf",s.visibleDresses.length!==0),be(),We("ngIf",s.visibleDresses.length===0),be(2),We("ngForOf",s.visibleDresses),be(2),We("ngForOf",s.totalPages))},dependencies:[bn,yu,vu,zi,qi],styles:[".container[_ngcontent-%COMP%]{text-align:center;margin-top:5%;font-size:2.5em;color:#333;text-transform:uppercase;letter-spacing:2px;margin-bottom:20px}.dress__list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.dress__wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-inline:50px;border:1px solid #ddd;border-radius:10px;padding:15px;margin-bottom:20px;box-shadow:0 4px 8px #0000001a;transition:all .3s ease}.dress__wrapper[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0000001a}.dress__image[_ngcontent-%COMP%]{width:120px;border-radius:8px;margin-right:15px}.dress__title[_ngcontent-%COMP%]{font-size:1.3em;margin-bottom:10px;color:#333}.dress__price[_ngcontent-%COMP%]{font-size:1.1em;color:#777}.buy__button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border:none;border-radius:20px;padding:10px 20px;cursor:pointer;transition:background-color .3s ease;font-weight:700;text-transform:uppercase;outline:none;box-shadow:0 2px 4px #0000001a}.buy__button[_ngcontent-%COMP%]:hover{background-color:#45a049}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:#f5f5f5;color:#9e9e9e;padding:8px 12px;margin:0 5px;cursor:pointer;font-size:16px;transition:background-color .3s ease,color .3s ease}.pagination[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0;color:#757575}.pagination[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#d7ccc8;color:#4e342e;pointer-events:none}"]});let t=e;return t})();var Sb=(()=>{let e=class e{constructor(){this.dressesService=N($l),this.dressesFirebaseService=N(Bl)}ngOnInit(){this.dressesFirebaseService.getDresses().subscribe(r=>{this.dressesService.dressesSig.set(r)})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Et({type:e,selectors:[["dresses"]],standalone:!0,features:[St],decls:1,vars:0,template:function(i,s){i&1&&$t(0,"dresses-list")},dependencies:[bn,Cb]});let t=e;return t})();var ZF=()=>["/"],Ab=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Et({type:e,selectors:[["empty-page"]],standalone:!0,features:[St],decls:5,vars:2,consts:[[3,"routerLink"]],template:function(i,s){i&1&&(he(0,"h1"),De(1,"Error 404: page is not found"),ve(),he(2,"h2")(3,"a",0),De(4,"Back to home page"),ve()()),i&2&&(be(3),We("routerLink",Ni(1,ZF)))},dependencies:[zi,qi]});let t=e;return t})();var Rb=[{path:"",redirectTo:"dresses-list",pathMatch:"full"},{path:"dresses-list",component:Sb},{path:"cart",component:sD},{path:"**",component:Ab}];var XF={apiKey:"AIzaSyCVMJgECJ3VhMhUSFgCbHzmk5w2ZEC5YBc",authDomain:"wedding-dresses-c095d.firebaseapp.com",databaseURL:"https://wedding-dresses-c095d-default-rtdb.firebaseio.com",projectId:"wedding-dresses-c095d",storageBucket:"wedding-dresses-c095d.appspot.com",messagingSenderId:"623119047250",appId:"1:623119047250:web:b57a35c326769a29179d8b",measurementId:"G-WWSHRKLER3"},xb={providers:[eD(Rb),[PD(()=>OD(XF)),Db(()=>bb())]]};var Mb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Et({type:e,selectors:[["app-root"]],standalone:!0,features:[St],decls:1,vars:0,template:function(i,s){i&1&&$t(0,"router-outlet")},dependencies:[bn,mp]});let t=e;return t})();hE(Mb,xb).catch(t=>console.error(t));
